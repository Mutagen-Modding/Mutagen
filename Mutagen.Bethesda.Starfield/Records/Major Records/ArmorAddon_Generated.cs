/*
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
 * Autogenerated by Loqui.  Do not manually change.
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
*/
#region Usings
using Loqui;
using Loqui.Interfaces;
using Loqui.Internal;
using Mutagen.Bethesda.Assets;
using Mutagen.Bethesda.Binary;
using Mutagen.Bethesda.Plugins;
using Mutagen.Bethesda.Plugins.Assets;
using Mutagen.Bethesda.Plugins.Binary.Headers;
using Mutagen.Bethesda.Plugins.Binary.Overlay;
using Mutagen.Bethesda.Plugins.Binary.Streams;
using Mutagen.Bethesda.Plugins.Binary.Translations;
using Mutagen.Bethesda.Plugins.Cache;
using Mutagen.Bethesda.Plugins.Exceptions;
using Mutagen.Bethesda.Plugins.Internals;
using Mutagen.Bethesda.Plugins.Meta;
using Mutagen.Bethesda.Plugins.Records;
using Mutagen.Bethesda.Plugins.Records.Internals;
using Mutagen.Bethesda.Plugins.Records.Mapping;
using Mutagen.Bethesda.Plugins.Utility;
using Mutagen.Bethesda.Starfield;
using Mutagen.Bethesda.Starfield.Internals;
using Mutagen.Bethesda.Translations.Binary;
using Noggog;
using Noggog.StructuredStrings;
using Noggog.StructuredStrings.CSharp;
using RecordTypeInts = Mutagen.Bethesda.Starfield.Internals.RecordTypeInts;
using RecordTypes = Mutagen.Bethesda.Starfield.Internals.RecordTypes;
using System.Buffers.Binary;
using System.Diagnostics;
using System.Diagnostics.CodeAnalysis;
using System.Reactive.Disposables;
using System.Reactive.Linq;
#endregion

#nullable enable
namespace Mutagen.Bethesda.Starfield
{
    #region Class
    public partial class ArmorAddon :
        StarfieldMajorRecord,
        IArmorAddonInternal,
        IEquatable<IArmorAddonGetter>,
        ILoquiObjectSetter<ArmorAddon>
    {
        #region Ctor
        protected ArmorAddon()
        {
            CustomCtor();
        }
        partial void CustomCtor();
        #endregion

        #region Components
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        private ExtendedList<AComponent> _Components = new ExtendedList<AComponent>();
        public ExtendedList<AComponent> Components
        {
            get => this._Components;
            init => this._Components = value;
        }
        #region Interface Members
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IReadOnlyList<IAComponentGetter> IArmorAddonGetter.Components => _Components;
        #endregion

        #endregion
        #region FirstPersonFlags
        public FirstPersonFlag? FirstPersonFlags { get; set; }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        FirstPersonFlag? IArmorAddonGetter.FirstPersonFlags => this.FirstPersonFlags;
        #endregion
        #region Race
        private readonly IFormLinkNullable<IRaceGetter> _Race = new FormLinkNullable<IRaceGetter>();
        public IFormLinkNullable<IRaceGetter> Race
        {
            get => _Race;
            set => _Race.SetTo(value);
        }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IFormLinkNullableGetter<IRaceGetter> IArmorAddonGetter.Race => this.Race;
        #endregion
        #region WeaponAdjust
        public Single WeaponAdjust { get; set; } = default(Single);
        #endregion
        #region MalePriority
        public Byte MalePriority { get; set; } = default(Byte);
        #endregion
        #region FemalePriority
        public Byte FemalePriority { get; set; } = default(Byte);
        #endregion
        #region Unknown
        public UInt16 Unknown { get; set; } = default(UInt16);
        #endregion
        #region DetectionSoundValue
        public Byte DetectionSoundValue { get; set; } = default(Byte);
        #endregion
        #region HealthBarOffset
        public Single HealthBarOffset { get; set; } = default(Single);
        #endregion
        #region WorldModel
        public IGenderedItem<Model?>? WorldModel { get; set; }
        IGenderedItemGetter<IModelGetter?>? IArmorAddonGetter.WorldModel => this.WorldModel;
        #endregion
        #region FirstPersonModel
        public IGenderedItem<Model?>? FirstPersonModel { get; set; }
        IGenderedItemGetter<IModelGetter?>? IArmorAddonGetter.FirstPersonModel => this.FirstPersonModel;
        #endregion
        #region AltSkeleton
        public IGenderedItem<String?>? AltSkeleton { get; set; }
        IGenderedItemGetter<String?>? IArmorAddonGetter.AltSkeleton => this.AltSkeleton;
        #endregion
        #region ExtraLightLayers
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        private ExtendedList<UInt32> _ExtraLightLayers = new ExtendedList<UInt32>();
        public ExtendedList<UInt32> ExtraLightLayers
        {
            get => this._ExtraLightLayers;
            init => this._ExtraLightLayers = value;
        }
        #region Interface Members
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IReadOnlyList<UInt32> IArmorAddonGetter.ExtraLightLayers => _ExtraLightLayers;
        #endregion

        #endregion
        #region SkinTexture
        public IGenderedItem<ArmorAddonSkinTexture?>? SkinTexture { get; set; }
        IGenderedItemGetter<IArmorAddonSkinTextureGetter?>? IArmorAddonGetter.SkinTexture => this.SkinTexture;
        #endregion
        #region Morphs
        public IGenderedItem<ArmorAddonMorph?>? Morphs { get; set; }
        IGenderedItemGetter<IArmorAddonMorphGetter?>? IArmorAddonGetter.Morphs => this.Morphs;
        #endregion
        #region AdditionalRaces
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        private ExtendedList<IFormLinkGetter<IRaceGetter>> _AdditionalRaces = new ExtendedList<IFormLinkGetter<IRaceGetter>>();
        public ExtendedList<IFormLinkGetter<IRaceGetter>> AdditionalRaces
        {
            get => this._AdditionalRaces;
            init => this._AdditionalRaces = value;
        }
        #region Interface Members
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IReadOnlyList<IFormLinkGetter<IRaceGetter>> IArmorAddonGetter.AdditionalRaces => _AdditionalRaces;
        #endregion

        #endregion
        #region FootstepSound
        private readonly IFormLinkNullable<IFootstepSetGetter> _FootstepSound = new FormLinkNullable<IFootstepSetGetter>();
        public IFormLinkNullable<IFootstepSetGetter> FootstepSound
        {
            get => _FootstepSound;
            set => _FootstepSound.SetTo(value);
        }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IFormLinkNullableGetter<IFootstepSetGetter> IArmorAddonGetter.FootstepSound => this.FootstepSound;
        #endregion
        #region ArtObject
        private readonly IFormLinkNullable<IArtObjectGetter> _ArtObject = new FormLinkNullable<IArtObjectGetter>();
        public IFormLinkNullable<IArtObjectGetter> ArtObject
        {
            get => _ArtObject;
            set => _ArtObject.SetTo(value);
        }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IFormLinkNullableGetter<IArtObjectGetter> IArmorAddonGetter.ArtObject => this.ArtObject;
        #endregion
        #region BodyPartData
        private readonly IFormLinkNullable<IBodyPartDataGetter> _BodyPartData = new FormLinkNullable<IBodyPartDataGetter>();
        public IFormLinkNullable<IBodyPartDataGetter> BodyPartData
        {
            get => _BodyPartData;
            set => _BodyPartData.SetTo(value);
        }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        IFormLinkNullableGetter<IBodyPartDataGetter> IArmorAddonGetter.BodyPartData => this.BodyPartData;
        #endregion
        #region ActorValueModulationGroupType
        public ActorValueModulation.GroupType ActorValueModulationGroupType { get; set; } = default(ActorValueModulation.GroupType);
        #endregion
        #region ActorValueModulationEntryType
        public String? ActorValueModulationEntryType { get; set; }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        String? IArmorAddonGetter.ActorValueModulationEntryType => this.ActorValueModulationEntryType;
        #endregion
        #region ActorValueModulationSubType
        public String? ActorValueModulationSubType { get; set; }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        String? IArmorAddonGetter.ActorValueModulationSubType => this.ActorValueModulationSubType;
        #endregion
        #region ActorValueModulationEntryValue
        public String? ActorValueModulationEntryValue { get; set; }
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        String? IArmorAddonGetter.ActorValueModulationEntryValue => this.ActorValueModulationEntryValue;
        #endregion
        #region BoneDataModifiers
        public IGenderedItem<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>> BoneDataModifiers { get; set; } = new GenderedItem<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>>(new ExtendedList<IFormLinkGetter<IBoneModifierGetter>>(), new ExtendedList<IFormLinkGetter<IBoneModifierGetter>>());
        IGenderedItemGetter<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>> IArmorAddonGetter.BoneDataModifiers => this.BoneDataModifiers;
        #endregion

        #region To String

        public override void Print(
            StructuredStringBuilder sb,
            string? name = null)
        {
            ArmorAddonMixIn.Print(
                item: this,
                sb: sb,
                name: name);
        }

        #endregion

        #region Mask
        public new class Mask<TItem> :
            StarfieldMajorRecord.Mask<TItem>,
            IEquatable<Mask<TItem>>,
            IMask<TItem>
        {
            #region Ctors
            public Mask(TItem initialValue)
            : base(initialValue)
            {
                this.Components = new MaskItem<TItem, IEnumerable<MaskItemIndexed<TItem, AComponent.Mask<TItem>?>>?>(initialValue, Enumerable.Empty<MaskItemIndexed<TItem, AComponent.Mask<TItem>?>>());
                this.FirstPersonFlags = initialValue;
                this.Race = initialValue;
                this.WeaponAdjust = initialValue;
                this.MalePriority = initialValue;
                this.FemalePriority = initialValue;
                this.Unknown = initialValue;
                this.DetectionSoundValue = initialValue;
                this.HealthBarOffset = initialValue;
                this.WorldModel = new MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>(initialValue, default);
                this.FirstPersonModel = new MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>(initialValue, default);
                this.AltSkeleton = new MaskItem<TItem, GenderedItem<TItem>?>(initialValue, default);
                this.ExtraLightLayers = new MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>(initialValue, Enumerable.Empty<(int Index, TItem Value)>());
                this.SkinTexture = new MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonSkinTexture.Mask<TItem>?>?>?>(initialValue, default);
                this.Morphs = new MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonMorph.Mask<TItem>?>?>?>(initialValue, default);
                this.AdditionalRaces = new MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>(initialValue, Enumerable.Empty<(int Index, TItem Value)>());
                this.FootstepSound = initialValue;
                this.ArtObject = initialValue;
                this.BodyPartData = initialValue;
                this.ActorValueModulationGroupType = initialValue;
                this.ActorValueModulationEntryType = initialValue;
                this.ActorValueModulationSubType = initialValue;
                this.ActorValueModulationEntryValue = initialValue;
                this.BoneDataModifiers = new GenderedItem<TItem>(initialValue, initialValue);
            }

            public Mask(
                TItem MajorRecordFlagsRaw,
                TItem FormKey,
                TItem VersionControl,
                TItem EditorID,
                TItem FormVersion,
                TItem Version2,
                TItem StarfieldMajorRecordFlags,
                TItem Components,
                TItem FirstPersonFlags,
                TItem Race,
                TItem WeaponAdjust,
                TItem MalePriority,
                TItem FemalePriority,
                TItem Unknown,
                TItem DetectionSoundValue,
                TItem HealthBarOffset,
                TItem WorldModel,
                TItem FirstPersonModel,
                TItem AltSkeleton,
                TItem ExtraLightLayers,
                TItem SkinTexture,
                TItem Morphs,
                TItem AdditionalRaces,
                TItem FootstepSound,
                TItem ArtObject,
                TItem BodyPartData,
                TItem ActorValueModulationGroupType,
                TItem ActorValueModulationEntryType,
                TItem ActorValueModulationSubType,
                TItem ActorValueModulationEntryValue,
                TItem BoneDataModifiers)
            : base(
                MajorRecordFlagsRaw: MajorRecordFlagsRaw,
                FormKey: FormKey,
                VersionControl: VersionControl,
                EditorID: EditorID,
                FormVersion: FormVersion,
                Version2: Version2,
                StarfieldMajorRecordFlags: StarfieldMajorRecordFlags)
            {
                this.Components = new MaskItem<TItem, IEnumerable<MaskItemIndexed<TItem, AComponent.Mask<TItem>?>>?>(Components, Enumerable.Empty<MaskItemIndexed<TItem, AComponent.Mask<TItem>?>>());
                this.FirstPersonFlags = FirstPersonFlags;
                this.Race = Race;
                this.WeaponAdjust = WeaponAdjust;
                this.MalePriority = MalePriority;
                this.FemalePriority = FemalePriority;
                this.Unknown = Unknown;
                this.DetectionSoundValue = DetectionSoundValue;
                this.HealthBarOffset = HealthBarOffset;
                this.WorldModel = new MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>(WorldModel, default);
                this.FirstPersonModel = new MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>(FirstPersonModel, default);
                this.AltSkeleton = new MaskItem<TItem, GenderedItem<TItem>?>(AltSkeleton, default);
                this.ExtraLightLayers = new MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>(ExtraLightLayers, Enumerable.Empty<(int Index, TItem Value)>());
                this.SkinTexture = new MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonSkinTexture.Mask<TItem>?>?>?>(SkinTexture, default);
                this.Morphs = new MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonMorph.Mask<TItem>?>?>?>(Morphs, default);
                this.AdditionalRaces = new MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>(AdditionalRaces, Enumerable.Empty<(int Index, TItem Value)>());
                this.FootstepSound = FootstepSound;
                this.ArtObject = ArtObject;
                this.BodyPartData = BodyPartData;
                this.ActorValueModulationGroupType = ActorValueModulationGroupType;
                this.ActorValueModulationEntryType = ActorValueModulationEntryType;
                this.ActorValueModulationSubType = ActorValueModulationSubType;
                this.ActorValueModulationEntryValue = ActorValueModulationEntryValue;
                this.BoneDataModifiers = new GenderedItem<TItem>(BoneDataModifiers, BoneDataModifiers);
            }

            #pragma warning disable CS8618
            protected Mask()
            {
            }
            #pragma warning restore CS8618

            #endregion

            #region Members
            public MaskItem<TItem, IEnumerable<MaskItemIndexed<TItem, AComponent.Mask<TItem>?>>?>? Components;
            public TItem FirstPersonFlags;
            public TItem Race;
            public TItem WeaponAdjust;
            public TItem MalePriority;
            public TItem FemalePriority;
            public TItem Unknown;
            public TItem DetectionSoundValue;
            public TItem HealthBarOffset;
            public MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>? WorldModel;
            public MaskItem<TItem, GenderedItem<MaskItem<TItem, Model.Mask<TItem>?>?>?>? FirstPersonModel;
            public MaskItem<TItem, GenderedItem<TItem>?>? AltSkeleton;
            public MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>? ExtraLightLayers;
            public MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonSkinTexture.Mask<TItem>?>?>?>? SkinTexture;
            public MaskItem<TItem, GenderedItem<MaskItem<TItem, ArmorAddonMorph.Mask<TItem>?>?>?>? Morphs;
            public MaskItem<TItem, IEnumerable<(int Index, TItem Value)>?>? AdditionalRaces;
            public TItem FootstepSound;
            public TItem ArtObject;
            public TItem BodyPartData;
            public TItem ActorValueModulationGroupType;
            public TItem ActorValueModulationEntryType;
            public TItem ActorValueModulationSubType;
            public TItem ActorValueModulationEntryValue;
            public GenderedItem<TItem> BoneDataModifiers;
            #endregion

            #region Equals
            public override bool Equals(object? obj)
            {
                if (!(obj is Mask<TItem> rhs)) return false;
                return Equals(rhs);
            }

            public bool Equals(Mask<TItem>? rhs)
            {
                if (rhs == null) return false;
                if (!base.Equals(rhs)) return false;
                if (!object.Equals(this.Components, rhs.Components)) return false;
                if (!object.Equals(this.FirstPersonFlags, rhs.FirstPersonFlags)) return false;
                if (!object.Equals(this.Race, rhs.Race)) return false;
                if (!object.Equals(this.WeaponAdjust, rhs.WeaponAdjust)) return false;
                if (!object.Equals(this.MalePriority, rhs.MalePriority)) return false;
                if (!object.Equals(this.FemalePriority, rhs.FemalePriority)) return false;
                if (!object.Equals(this.Unknown, rhs.Unknown)) return false;
                if (!object.Equals(this.DetectionSoundValue, rhs.DetectionSoundValue)) return false;
                if (!object.Equals(this.HealthBarOffset, rhs.HealthBarOffset)) return false;
                if (!object.Equals(this.WorldModel, rhs.WorldModel)) return false;
                if (!object.Equals(this.FirstPersonModel, rhs.FirstPersonModel)) return false;
                if (!object.Equals(this.AltSkeleton, rhs.AltSkeleton)) return false;
                if (!object.Equals(this.ExtraLightLayers, rhs.ExtraLightLayers)) return false;
                if (!object.Equals(this.SkinTexture, rhs.SkinTexture)) return false;
                if (!object.Equals(this.Morphs, rhs.Morphs)) return false;
                if (!object.Equals(this.AdditionalRaces, rhs.AdditionalRaces)) return false;
                if (!object.Equals(this.FootstepSound, rhs.FootstepSound)) return false;
                if (!object.Equals(this.ArtObject, rhs.ArtObject)) return false;
                if (!object.Equals(this.BodyPartData, rhs.BodyPartData)) return false;
                if (!object.Equals(this.ActorValueModulationGroupType, rhs.ActorValueModulationGroupType)) return false;
                if (!object.Equals(this.ActorValueModulationEntryType, rhs.ActorValueModulationEntryType)) return false;
                if (!object.Equals(this.ActorValueModulationSubType, rhs.ActorValueModulationSubType)) return false;
                if (!object.Equals(this.ActorValueModulationEntryValue, rhs.ActorValueModulationEntryValue)) return false;
                if (!object.Equals(this.BoneDataModifiers, rhs.BoneDataModifiers)) return false;
                return true;
            }
            public override int GetHashCode()
            {
                var hash = new HashCode();
                hash.Add(this.Components);
                hash.Add(this.FirstPersonFlags);
                hash.Add(this.Race);
                hash.Add(this.WeaponAdjust);
                hash.Add(this.MalePriority);
                hash.Add(this.FemalePriority);
                hash.Add(this.Unknown);
                hash.Add(this.DetectionSoundValue);
                hash.Add(this.HealthBarOffset);
                hash.Add(this.WorldModel);
                hash.Add(this.FirstPersonModel);
                hash.Add(this.AltSkeleton);
                hash.Add(this.ExtraLightLayers);
                hash.Add(this.SkinTexture);
                hash.Add(this.Morphs);
                hash.Add(this.AdditionalRaces);
                hash.Add(this.FootstepSound);
                hash.Add(this.ArtObject);
                hash.Add(this.BodyPartData);
                hash.Add(this.ActorValueModulationGroupType);
                hash.Add(this.ActorValueModulationEntryType);
                hash.Add(this.ActorValueModulationSubType);
                hash.Add(this.ActorValueModulationEntryValue);
                hash.Add(this.BoneDataModifiers);
                hash.Add(base.GetHashCode());
                return hash.ToHashCode();
            }

            #endregion

            #region All
            public override bool All(Func<TItem, bool> eval)
            {
                if (!base.All(eval)) return false;
                if (this.Components != null)
                {
                    if (!eval(this.Components.Overall)) return false;
                    if (this.Components.Specific != null)
                    {
                        foreach (var item in this.Components.Specific)
                        {
                            if (!eval(item.Overall)) return false;
                            if (item.Specific != null && !item.Specific.All(eval)) return false;
                        }
                    }
                }
                if (!eval(this.FirstPersonFlags)) return false;
                if (!eval(this.Race)) return false;
                if (!eval(this.WeaponAdjust)) return false;
                if (!eval(this.MalePriority)) return false;
                if (!eval(this.FemalePriority)) return false;
                if (!eval(this.Unknown)) return false;
                if (!eval(this.DetectionSoundValue)) return false;
                if (!eval(this.HealthBarOffset)) return false;
                if (!GenderedItem.AllMask(
                    this.WorldModel,
                    eval: eval)) return false;
                if (!GenderedItem.AllMask(
                    this.FirstPersonModel,
                    eval: eval)) return false;
                if (!GenderedItem.All(
                    this.AltSkeleton,
                    eval: eval)) return false;
                if (this.ExtraLightLayers != null)
                {
                    if (!eval(this.ExtraLightLayers.Overall)) return false;
                    if (this.ExtraLightLayers.Specific != null)
                    {
                        foreach (var item in this.ExtraLightLayers.Specific)
                        {
                            if (!eval(item.Value)) return false;
                        }
                    }
                }
                if (!GenderedItem.AllMask(
                    this.SkinTexture,
                    eval: eval)) return false;
                if (!GenderedItem.AllMask(
                    this.Morphs,
                    eval: eval)) return false;
                if (this.AdditionalRaces != null)
                {
                    if (!eval(this.AdditionalRaces.Overall)) return false;
                    if (this.AdditionalRaces.Specific != null)
                    {
                        foreach (var item in this.AdditionalRaces.Specific)
                        {
                            if (!eval(item.Value)) return false;
                        }
                    }
                }
                if (!eval(this.FootstepSound)) return false;
                if (!eval(this.ArtObject)) return false;
                if (!eval(this.BodyPartData)) return false;
                if (!eval(this.ActorValueModulationGroupType)) return false;
                if (!eval(this.ActorValueModulationEntryType)) return false;
                if (!eval(this.ActorValueModulationSubType)) return false;
                if (!eval(this.ActorValueModulationEntryValue)) return false;
                if (!eval(this.BoneDataModifiers.Male) || !eval(this.BoneDataModifiers.Female)) return false;
                return true;
            }
            #endregion

            #region Any
            public override bool Any(Func<TItem, bool> eval)
            {
                if (base.Any(eval)) return true;
                if (this.Components != null)
                {
                    if (eval(this.Components.Overall)) return true;
                    if (this.Components.Specific != null)
                    {
                        foreach (var item in this.Components.Specific)
                        {
                            if (!eval(item.Overall)) return false;
                            if (item.Specific != null && !item.Specific.All(eval)) return false;
                        }
                    }
                }
                if (eval(this.FirstPersonFlags)) return true;
                if (eval(this.Race)) return true;
                if (eval(this.WeaponAdjust)) return true;
                if (eval(this.MalePriority)) return true;
                if (eval(this.FemalePriority)) return true;
                if (eval(this.Unknown)) return true;
                if (eval(this.DetectionSoundValue)) return true;
                if (eval(this.HealthBarOffset)) return true;
                if (GenderedItem.AnyMask(
                    this.WorldModel,
                    eval: eval)) return true;
                if (GenderedItem.AnyMask(
                    this.FirstPersonModel,
                    eval: eval)) return true;
                if (GenderedItem.Any(
                    this.AltSkeleton,
                    eval: eval)) return true;
                if (this.ExtraLightLayers != null)
                {
                    if (eval(this.ExtraLightLayers.Overall)) return true;
                    if (this.ExtraLightLayers.Specific != null)
                    {
                        foreach (var item in this.ExtraLightLayers.Specific)
                        {
                            if (!eval(item.Value)) return false;
                        }
                    }
                }
                if (GenderedItem.AnyMask(
                    this.SkinTexture,
                    eval: eval)) return true;
                if (GenderedItem.AnyMask(
                    this.Morphs,
                    eval: eval)) return true;
                if (this.AdditionalRaces != null)
                {
                    if (eval(this.AdditionalRaces.Overall)) return true;
                    if (this.AdditionalRaces.Specific != null)
                    {
                        foreach (var item in this.AdditionalRaces.Specific)
                        {
                            if (!eval(item.Value)) return false;
                        }
                    }
                }
                if (eval(this.FootstepSound)) return true;
                if (eval(this.ArtObject)) return true;
                if (eval(this.BodyPartData)) return true;
                if (eval(this.ActorValueModulationGroupType)) return true;
                if (eval(this.ActorValueModulationEntryType)) return true;
                if (eval(this.ActorValueModulationSubType)) return true;
                if (eval(this.ActorValueModulationEntryValue)) return true;
                if (eval(this.BoneDataModifiers.Male) || eval(this.BoneDataModifiers.Female)) return true;
                return false;
            }
            #endregion

            #region Translate
            public new Mask<R> Translate<R>(Func<TItem, R> eval)
            {
                var ret = new ArmorAddon.Mask<R>();
                this.Translate_InternalFill(ret, eval);
                return ret;
            }

            protected void Translate_InternalFill<R>(Mask<R> obj, Func<TItem, R> eval)
            {
                base.Translate_InternalFill(obj, eval);
                if (Components != null)
                {
                    obj.Components = new MaskItem<R, IEnumerable<MaskItemIndexed<R, AComponent.Mask<R>?>>?>(eval(this.Components.Overall), Enumerable.Empty<MaskItemIndexed<R, AComponent.Mask<R>?>>());
                    if (Components.Specific != null)
                    {
                        var l = new List<MaskItemIndexed<R, AComponent.Mask<R>?>>();
                        obj.Components.Specific = l;
                        foreach (var item in Components.Specific)
                        {
                            MaskItemIndexed<R, AComponent.Mask<R>?>? mask = item == null ? null : new MaskItemIndexed<R, AComponent.Mask<R>?>(item.Index, eval(item.Overall), item.Specific?.Translate(eval));
                            if (mask == null) continue;
                            l.Add(mask);
                        }
                    }
                }
                obj.FirstPersonFlags = eval(this.FirstPersonFlags);
                obj.Race = eval(this.Race);
                obj.WeaponAdjust = eval(this.WeaponAdjust);
                obj.MalePriority = eval(this.MalePriority);
                obj.FemalePriority = eval(this.FemalePriority);
                obj.Unknown = eval(this.Unknown);
                obj.DetectionSoundValue = eval(this.DetectionSoundValue);
                obj.HealthBarOffset = eval(this.HealthBarOffset);
                obj.WorldModel = GenderedItem.TranslateHelper(
                    this.WorldModel,
                    eval,
                    (m, e) => m?.Translate(e));
                obj.FirstPersonModel = GenderedItem.TranslateHelper(
                    this.FirstPersonModel,
                    eval,
                    (m, e) => m?.Translate(e));
                obj.AltSkeleton = GenderedItem.TranslateHelper(
                    this.AltSkeleton,
                    eval);
                if (ExtraLightLayers != null)
                {
                    obj.ExtraLightLayers = new MaskItem<R, IEnumerable<(int Index, R Value)>?>(eval(this.ExtraLightLayers.Overall), Enumerable.Empty<(int Index, R Value)>());
                    if (ExtraLightLayers.Specific != null)
                    {
                        var l = new List<(int Index, R Item)>();
                        obj.ExtraLightLayers.Specific = l;
                        foreach (var item in ExtraLightLayers.Specific)
                        {
                            R mask = eval(item.Value);
                            l.Add((item.Index, mask));
                        }
                    }
                }
                obj.SkinTexture = GenderedItem.TranslateHelper(
                    this.SkinTexture,
                    eval,
                    (m, e) => m?.Translate(e));
                obj.Morphs = GenderedItem.TranslateHelper(
                    this.Morphs,
                    eval,
                    (m, e) => m?.Translate(e));
                if (AdditionalRaces != null)
                {
                    obj.AdditionalRaces = new MaskItem<R, IEnumerable<(int Index, R Value)>?>(eval(this.AdditionalRaces.Overall), Enumerable.Empty<(int Index, R Value)>());
                    if (AdditionalRaces.Specific != null)
                    {
                        var l = new List<(int Index, R Item)>();
                        obj.AdditionalRaces.Specific = l;
                        foreach (var item in AdditionalRaces.Specific)
                        {
                            R mask = eval(item.Value);
                            l.Add((item.Index, mask));
                        }
                    }
                }
                obj.FootstepSound = eval(this.FootstepSound);
                obj.ArtObject = eval(this.ArtObject);
                obj.BodyPartData = eval(this.BodyPartData);
                obj.ActorValueModulationGroupType = eval(this.ActorValueModulationGroupType);
                obj.ActorValueModulationEntryType = eval(this.ActorValueModulationEntryType);
                obj.ActorValueModulationSubType = eval(this.ActorValueModulationSubType);
                obj.ActorValueModulationEntryValue = eval(this.ActorValueModulationEntryValue);
                obj.BoneDataModifiers = new GenderedItem<R>(
                    eval(this.BoneDataModifiers.Male),
                    eval(this.BoneDataModifiers.Female));
            }
            #endregion

            #region To String
            public override string ToString() => this.Print();

            public string Print(ArmorAddon.Mask<bool>? printMask = null)
            {
                var sb = new StructuredStringBuilder();
                Print(sb, printMask);
                return sb.ToString();
            }

            public void Print(StructuredStringBuilder sb, ArmorAddon.Mask<bool>? printMask = null)
            {
                sb.AppendLine($"{nameof(ArmorAddon.Mask<TItem>)} =>");
                using (sb.Brace())
                {
                    if ((printMask?.Components?.Overall ?? true)
                        && Components is {} ComponentsItem)
                    {
                        sb.AppendLine("Components =>");
                        using (sb.Brace())
                        {
                            sb.AppendItem(ComponentsItem.Overall);
                            if (ComponentsItem.Specific != null)
                            {
                                foreach (var subItem in ComponentsItem.Specific)
                                {
                                    using (sb.Brace())
                                    {
                                        subItem?.Print(sb);
                                    }
                                }
                            }
                        }
                    }
                    if (printMask?.FirstPersonFlags ?? true)
                    {
                        sb.AppendItem(FirstPersonFlags, "FirstPersonFlags");
                    }
                    if (printMask?.Race ?? true)
                    {
                        sb.AppendItem(Race, "Race");
                    }
                    if (printMask?.WeaponAdjust ?? true)
                    {
                        sb.AppendItem(WeaponAdjust, "WeaponAdjust");
                    }
                    if (printMask?.MalePriority ?? true)
                    {
                        sb.AppendItem(MalePriority, "MalePriority");
                    }
                    if (printMask?.FemalePriority ?? true)
                    {
                        sb.AppendItem(FemalePriority, "FemalePriority");
                    }
                    if (printMask?.Unknown ?? true)
                    {
                        sb.AppendItem(Unknown, "Unknown");
                    }
                    if (printMask?.DetectionSoundValue ?? true)
                    {
                        sb.AppendItem(DetectionSoundValue, "DetectionSoundValue");
                    }
                    if (printMask?.HealthBarOffset ?? true)
                    {
                        sb.AppendItem(HealthBarOffset, "HealthBarOffset");
                    }
                    if (WorldModel != null
                        && (printMask?.WorldModel?.Overall ?? true))
                    {
                        sb.AppendLine($"WorldModel => {WorldModel}");
                    }
                    if (FirstPersonModel != null
                        && (printMask?.FirstPersonModel?.Overall ?? true))
                    {
                        sb.AppendLine($"FirstPersonModel => {FirstPersonModel}");
                    }
                    if (AltSkeleton != null
                        && (printMask?.AltSkeleton?.Overall ?? true))
                    {
                        sb.AppendLine($"AltSkeleton => {AltSkeleton}");
                    }
                    if ((printMask?.ExtraLightLayers?.Overall ?? true)
                        && ExtraLightLayers is {} ExtraLightLayersItem)
                    {
                        sb.AppendLine("ExtraLightLayers =>");
                        using (sb.Brace())
                        {
                            sb.AppendItem(ExtraLightLayersItem.Overall);
                            if (ExtraLightLayersItem.Specific != null)
                            {
                                foreach (var subItem in ExtraLightLayersItem.Specific)
                                {
                                    using (sb.Brace())
                                    {
                                        {
                                            sb.AppendItem(subItem);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (SkinTexture != null
                        && (printMask?.SkinTexture?.Overall ?? true))
                    {
                        sb.AppendLine($"SkinTexture => {SkinTexture}");
                    }
                    if (Morphs != null
                        && (printMask?.Morphs?.Overall ?? true))
                    {
                        sb.AppendLine($"Morphs => {Morphs}");
                    }
                    if ((printMask?.AdditionalRaces?.Overall ?? true)
                        && AdditionalRaces is {} AdditionalRacesItem)
                    {
                        sb.AppendLine("AdditionalRaces =>");
                        using (sb.Brace())
                        {
                            sb.AppendItem(AdditionalRacesItem.Overall);
                            if (AdditionalRacesItem.Specific != null)
                            {
                                foreach (var subItem in AdditionalRacesItem.Specific)
                                {
                                    using (sb.Brace())
                                    {
                                        {
                                            sb.AppendItem(subItem);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (printMask?.FootstepSound ?? true)
                    {
                        sb.AppendItem(FootstepSound, "FootstepSound");
                    }
                    if (printMask?.ArtObject ?? true)
                    {
                        sb.AppendItem(ArtObject, "ArtObject");
                    }
                    if (printMask?.BodyPartData ?? true)
                    {
                        sb.AppendItem(BodyPartData, "BodyPartData");
                    }
                    if (printMask?.ActorValueModulationGroupType ?? true)
                    {
                        sb.AppendItem(ActorValueModulationGroupType, "ActorValueModulationGroupType");
                    }
                    if (printMask?.ActorValueModulationEntryType ?? true)
                    {
                        sb.AppendItem(ActorValueModulationEntryType, "ActorValueModulationEntryType");
                    }
                    if (printMask?.ActorValueModulationSubType ?? true)
                    {
                        sb.AppendItem(ActorValueModulationSubType, "ActorValueModulationSubType");
                    }
                    if (printMask?.ActorValueModulationEntryValue ?? true)
                    {
                        sb.AppendItem(ActorValueModulationEntryValue, "ActorValueModulationEntryValue");
                    }
                    if ((true))
                    {
                        sb.AppendLine($"BoneDataModifiers => {BoneDataModifiers}");
                    }
                }
            }
            #endregion

        }

        public new class ErrorMask :
            StarfieldMajorRecord.ErrorMask,
            IErrorMask<ErrorMask>
        {
            #region Members
            public MaskItem<Exception?, IEnumerable<MaskItem<Exception?, AComponent.ErrorMask?>>?>? Components;
            public Exception? FirstPersonFlags;
            public Exception? Race;
            public Exception? WeaponAdjust;
            public Exception? MalePriority;
            public Exception? FemalePriority;
            public Exception? Unknown;
            public Exception? DetectionSoundValue;
            public Exception? HealthBarOffset;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? WorldModel;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? FirstPersonModel;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? AltSkeleton;
            public MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>? ExtraLightLayers;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? SkinTexture;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? Morphs;
            public MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>? AdditionalRaces;
            public Exception? FootstepSound;
            public Exception? ArtObject;
            public Exception? BodyPartData;
            public Exception? ActorValueModulationGroupType;
            public Exception? ActorValueModulationEntryType;
            public Exception? ActorValueModulationSubType;
            public Exception? ActorValueModulationEntryValue;
            public MaskItem<Exception?, GenderedItem<Exception?>?>? BoneDataModifiers;
            #endregion

            #region IErrorMask
            public override object? GetNthMask(int index)
            {
                ArmorAddon_FieldIndex enu = (ArmorAddon_FieldIndex)index;
                switch (enu)
                {
                    case ArmorAddon_FieldIndex.Components:
                        return Components;
                    case ArmorAddon_FieldIndex.FirstPersonFlags:
                        return FirstPersonFlags;
                    case ArmorAddon_FieldIndex.Race:
                        return Race;
                    case ArmorAddon_FieldIndex.WeaponAdjust:
                        return WeaponAdjust;
                    case ArmorAddon_FieldIndex.MalePriority:
                        return MalePriority;
                    case ArmorAddon_FieldIndex.FemalePriority:
                        return FemalePriority;
                    case ArmorAddon_FieldIndex.Unknown:
                        return Unknown;
                    case ArmorAddon_FieldIndex.DetectionSoundValue:
                        return DetectionSoundValue;
                    case ArmorAddon_FieldIndex.HealthBarOffset:
                        return HealthBarOffset;
                    case ArmorAddon_FieldIndex.WorldModel:
                        return WorldModel;
                    case ArmorAddon_FieldIndex.FirstPersonModel:
                        return FirstPersonModel;
                    case ArmorAddon_FieldIndex.AltSkeleton:
                        return AltSkeleton;
                    case ArmorAddon_FieldIndex.ExtraLightLayers:
                        return ExtraLightLayers;
                    case ArmorAddon_FieldIndex.SkinTexture:
                        return SkinTexture;
                    case ArmorAddon_FieldIndex.Morphs:
                        return Morphs;
                    case ArmorAddon_FieldIndex.AdditionalRaces:
                        return AdditionalRaces;
                    case ArmorAddon_FieldIndex.FootstepSound:
                        return FootstepSound;
                    case ArmorAddon_FieldIndex.ArtObject:
                        return ArtObject;
                    case ArmorAddon_FieldIndex.BodyPartData:
                        return BodyPartData;
                    case ArmorAddon_FieldIndex.ActorValueModulationGroupType:
                        return ActorValueModulationGroupType;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryType:
                        return ActorValueModulationEntryType;
                    case ArmorAddon_FieldIndex.ActorValueModulationSubType:
                        return ActorValueModulationSubType;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryValue:
                        return ActorValueModulationEntryValue;
                    case ArmorAddon_FieldIndex.BoneDataModifiers:
                        return BoneDataModifiers;
                    default:
                        return base.GetNthMask(index);
                }
            }

            public override void SetNthException(int index, Exception ex)
            {
                ArmorAddon_FieldIndex enu = (ArmorAddon_FieldIndex)index;
                switch (enu)
                {
                    case ArmorAddon_FieldIndex.Components:
                        this.Components = new MaskItem<Exception?, IEnumerable<MaskItem<Exception?, AComponent.ErrorMask?>>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.FirstPersonFlags:
                        this.FirstPersonFlags = ex;
                        break;
                    case ArmorAddon_FieldIndex.Race:
                        this.Race = ex;
                        break;
                    case ArmorAddon_FieldIndex.WeaponAdjust:
                        this.WeaponAdjust = ex;
                        break;
                    case ArmorAddon_FieldIndex.MalePriority:
                        this.MalePriority = ex;
                        break;
                    case ArmorAddon_FieldIndex.FemalePriority:
                        this.FemalePriority = ex;
                        break;
                    case ArmorAddon_FieldIndex.Unknown:
                        this.Unknown = ex;
                        break;
                    case ArmorAddon_FieldIndex.DetectionSoundValue:
                        this.DetectionSoundValue = ex;
                        break;
                    case ArmorAddon_FieldIndex.HealthBarOffset:
                        this.HealthBarOffset = ex;
                        break;
                    case ArmorAddon_FieldIndex.WorldModel:
                        this.WorldModel = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.FirstPersonModel:
                        this.FirstPersonModel = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.AltSkeleton:
                        this.AltSkeleton = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.ExtraLightLayers:
                        this.ExtraLightLayers = new MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.SkinTexture:
                        this.SkinTexture = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.Morphs:
                        this.Morphs = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.AdditionalRaces:
                        this.AdditionalRaces = new MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>(ex, null);
                        break;
                    case ArmorAddon_FieldIndex.FootstepSound:
                        this.FootstepSound = ex;
                        break;
                    case ArmorAddon_FieldIndex.ArtObject:
                        this.ArtObject = ex;
                        break;
                    case ArmorAddon_FieldIndex.BodyPartData:
                        this.BodyPartData = ex;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationGroupType:
                        this.ActorValueModulationGroupType = ex;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryType:
                        this.ActorValueModulationEntryType = ex;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationSubType:
                        this.ActorValueModulationSubType = ex;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryValue:
                        this.ActorValueModulationEntryValue = ex;
                        break;
                    case ArmorAddon_FieldIndex.BoneDataModifiers:
                        this.BoneDataModifiers = new MaskItem<Exception?, GenderedItem<Exception?>?>(ex, null);
                        break;
                    default:
                        base.SetNthException(index, ex);
                        break;
                }
            }

            public override void SetNthMask(int index, object obj)
            {
                ArmorAddon_FieldIndex enu = (ArmorAddon_FieldIndex)index;
                switch (enu)
                {
                    case ArmorAddon_FieldIndex.Components:
                        this.Components = (MaskItem<Exception?, IEnumerable<MaskItem<Exception?, AComponent.ErrorMask?>>?>)obj;
                        break;
                    case ArmorAddon_FieldIndex.FirstPersonFlags:
                        this.FirstPersonFlags = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.Race:
                        this.Race = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.WeaponAdjust:
                        this.WeaponAdjust = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.MalePriority:
                        this.MalePriority = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.FemalePriority:
                        this.FemalePriority = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.Unknown:
                        this.Unknown = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.DetectionSoundValue:
                        this.DetectionSoundValue = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.HealthBarOffset:
                        this.HealthBarOffset = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.WorldModel:
                        this.WorldModel = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    case ArmorAddon_FieldIndex.FirstPersonModel:
                        this.FirstPersonModel = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    case ArmorAddon_FieldIndex.AltSkeleton:
                        this.AltSkeleton = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ExtraLightLayers:
                        this.ExtraLightLayers = (MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>)obj;
                        break;
                    case ArmorAddon_FieldIndex.SkinTexture:
                        this.SkinTexture = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    case ArmorAddon_FieldIndex.Morphs:
                        this.Morphs = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    case ArmorAddon_FieldIndex.AdditionalRaces:
                        this.AdditionalRaces = (MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>)obj;
                        break;
                    case ArmorAddon_FieldIndex.FootstepSound:
                        this.FootstepSound = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ArtObject:
                        this.ArtObject = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.BodyPartData:
                        this.BodyPartData = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationGroupType:
                        this.ActorValueModulationGroupType = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryType:
                        this.ActorValueModulationEntryType = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationSubType:
                        this.ActorValueModulationSubType = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.ActorValueModulationEntryValue:
                        this.ActorValueModulationEntryValue = (Exception?)obj;
                        break;
                    case ArmorAddon_FieldIndex.BoneDataModifiers:
                        this.BoneDataModifiers = (MaskItem<Exception?, GenderedItem<Exception?>?>?)obj;
                        break;
                    default:
                        base.SetNthMask(index, obj);
                        break;
                }
            }

            public override bool IsInError()
            {
                if (Overall != null) return true;
                if (Components != null) return true;
                if (FirstPersonFlags != null) return true;
                if (Race != null) return true;
                if (WeaponAdjust != null) return true;
                if (MalePriority != null) return true;
                if (FemalePriority != null) return true;
                if (Unknown != null) return true;
                if (DetectionSoundValue != null) return true;
                if (HealthBarOffset != null) return true;
                if (WorldModel != null) return true;
                if (FirstPersonModel != null) return true;
                if (AltSkeleton != null) return true;
                if (ExtraLightLayers != null) return true;
                if (SkinTexture != null) return true;
                if (Morphs != null) return true;
                if (AdditionalRaces != null) return true;
                if (FootstepSound != null) return true;
                if (ArtObject != null) return true;
                if (BodyPartData != null) return true;
                if (ActorValueModulationGroupType != null) return true;
                if (ActorValueModulationEntryType != null) return true;
                if (ActorValueModulationSubType != null) return true;
                if (ActorValueModulationEntryValue != null) return true;
                if (BoneDataModifiers != null) return true;
                return false;
            }
            #endregion

            #region To String
            public override string ToString() => this.Print();

            public override void Print(StructuredStringBuilder sb, string? name = null)
            {
                sb.AppendLine($"{(name ?? "ErrorMask")} =>");
                using (sb.Brace())
                {
                    if (this.Overall != null)
                    {
                        sb.AppendLine("Overall =>");
                        using (sb.Brace())
                        {
                            sb.AppendLine($"{this.Overall}");
                        }
                    }
                    PrintFillInternal(sb);
                }
            }
            protected override void PrintFillInternal(StructuredStringBuilder sb)
            {
                base.PrintFillInternal(sb);
                if (Components is {} ComponentsItem)
                {
                    sb.AppendLine("Components =>");
                    using (sb.Brace())
                    {
                        sb.AppendItem(ComponentsItem.Overall);
                        if (ComponentsItem.Specific != null)
                        {
                            foreach (var subItem in ComponentsItem.Specific)
                            {
                                using (sb.Brace())
                                {
                                    subItem?.Print(sb);
                                }
                            }
                        }
                    }
                }
                {
                    sb.AppendItem(FirstPersonFlags, "FirstPersonFlags");
                }
                {
                    sb.AppendItem(Race, "Race");
                }
                {
                    sb.AppendItem(WeaponAdjust, "WeaponAdjust");
                }
                {
                    sb.AppendItem(MalePriority, "MalePriority");
                }
                {
                    sb.AppendItem(FemalePriority, "FemalePriority");
                }
                {
                    sb.AppendItem(Unknown, "Unknown");
                }
                {
                    sb.AppendItem(DetectionSoundValue, "DetectionSoundValue");
                }
                {
                    sb.AppendItem(HealthBarOffset, "HealthBarOffset");
                }
                if (WorldModel != null)
                {
                    sb.AppendLine($"WorldModel => {WorldModel}");
                }
                if (FirstPersonModel != null)
                {
                    sb.AppendLine($"FirstPersonModel => {FirstPersonModel}");
                }
                if (AltSkeleton != null)
                {
                    sb.AppendLine($"AltSkeleton => {AltSkeleton}");
                }
                if (ExtraLightLayers is {} ExtraLightLayersItem)
                {
                    sb.AppendLine("ExtraLightLayers =>");
                    using (sb.Brace())
                    {
                        sb.AppendItem(ExtraLightLayersItem.Overall);
                        if (ExtraLightLayersItem.Specific != null)
                        {
                            foreach (var subItem in ExtraLightLayersItem.Specific)
                            {
                                using (sb.Brace())
                                {
                                    {
                                        sb.AppendItem(subItem);
                                    }
                                }
                            }
                        }
                    }
                }
                if (SkinTexture != null)
                {
                    sb.AppendLine($"SkinTexture => {SkinTexture}");
                }
                if (Morphs != null)
                {
                    sb.AppendLine($"Morphs => {Morphs}");
                }
                if (AdditionalRaces is {} AdditionalRacesItem)
                {
                    sb.AppendLine("AdditionalRaces =>");
                    using (sb.Brace())
                    {
                        sb.AppendItem(AdditionalRacesItem.Overall);
                        if (AdditionalRacesItem.Specific != null)
                        {
                            foreach (var subItem in AdditionalRacesItem.Specific)
                            {
                                using (sb.Brace())
                                {
                                    {
                                        sb.AppendItem(subItem);
                                    }
                                }
                            }
                        }
                    }
                }
                {
                    sb.AppendItem(FootstepSound, "FootstepSound");
                }
                {
                    sb.AppendItem(ArtObject, "ArtObject");
                }
                {
                    sb.AppendItem(BodyPartData, "BodyPartData");
                }
                {
                    sb.AppendItem(ActorValueModulationGroupType, "ActorValueModulationGroupType");
                }
                {
                    sb.AppendItem(ActorValueModulationEntryType, "ActorValueModulationEntryType");
                }
                {
                    sb.AppendItem(ActorValueModulationSubType, "ActorValueModulationSubType");
                }
                {
                    sb.AppendItem(ActorValueModulationEntryValue, "ActorValueModulationEntryValue");
                }
                {
                    sb.AppendLine($"BoneDataModifiers => {BoneDataModifiers}");
                }
            }
            #endregion

            #region Combine
            public ErrorMask Combine(ErrorMask? rhs)
            {
                if (rhs == null) return this;
                var ret = new ErrorMask();
                ret.Components = new MaskItem<Exception?, IEnumerable<MaskItem<Exception?, AComponent.ErrorMask?>>?>(Noggog.ExceptionExt.Combine(this.Components?.Overall, rhs.Components?.Overall), Noggog.ExceptionExt.Combine(this.Components?.Specific, rhs.Components?.Specific));
                ret.FirstPersonFlags = this.FirstPersonFlags.Combine(rhs.FirstPersonFlags);
                ret.Race = this.Race.Combine(rhs.Race);
                ret.WeaponAdjust = this.WeaponAdjust.Combine(rhs.WeaponAdjust);
                ret.MalePriority = this.MalePriority.Combine(rhs.MalePriority);
                ret.FemalePriority = this.FemalePriority.Combine(rhs.FemalePriority);
                ret.Unknown = this.Unknown.Combine(rhs.Unknown);
                ret.DetectionSoundValue = this.DetectionSoundValue.Combine(rhs.DetectionSoundValue);
                ret.HealthBarOffset = this.HealthBarOffset.Combine(rhs.HealthBarOffset);
                ret.WorldModel = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.WorldModel?.Overall, rhs.WorldModel?.Overall), GenderedItem.Combine(this.WorldModel?.Specific, rhs.WorldModel?.Specific));
                ret.FirstPersonModel = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.FirstPersonModel?.Overall, rhs.FirstPersonModel?.Overall), GenderedItem.Combine(this.FirstPersonModel?.Specific, rhs.FirstPersonModel?.Specific));
                ret.AltSkeleton = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.AltSkeleton?.Overall, rhs.AltSkeleton?.Overall), GenderedItem.Combine(this.AltSkeleton?.Specific, rhs.AltSkeleton?.Specific));
                ret.ExtraLightLayers = new MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>(Noggog.ExceptionExt.Combine(this.ExtraLightLayers?.Overall, rhs.ExtraLightLayers?.Overall), Noggog.ExceptionExt.Combine(this.ExtraLightLayers?.Specific, rhs.ExtraLightLayers?.Specific));
                ret.SkinTexture = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.SkinTexture?.Overall, rhs.SkinTexture?.Overall), GenderedItem.Combine(this.SkinTexture?.Specific, rhs.SkinTexture?.Specific));
                ret.Morphs = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.Morphs?.Overall, rhs.Morphs?.Overall), GenderedItem.Combine(this.Morphs?.Specific, rhs.Morphs?.Specific));
                ret.AdditionalRaces = new MaskItem<Exception?, IEnumerable<(int Index, Exception Value)>?>(Noggog.ExceptionExt.Combine(this.AdditionalRaces?.Overall, rhs.AdditionalRaces?.Overall), Noggog.ExceptionExt.Combine(this.AdditionalRaces?.Specific, rhs.AdditionalRaces?.Specific));
                ret.FootstepSound = this.FootstepSound.Combine(rhs.FootstepSound);
                ret.ArtObject = this.ArtObject.Combine(rhs.ArtObject);
                ret.BodyPartData = this.BodyPartData.Combine(rhs.BodyPartData);
                ret.ActorValueModulationGroupType = this.ActorValueModulationGroupType.Combine(rhs.ActorValueModulationGroupType);
                ret.ActorValueModulationEntryType = this.ActorValueModulationEntryType.Combine(rhs.ActorValueModulationEntryType);
                ret.ActorValueModulationSubType = this.ActorValueModulationSubType.Combine(rhs.ActorValueModulationSubType);
                ret.ActorValueModulationEntryValue = this.ActorValueModulationEntryValue.Combine(rhs.ActorValueModulationEntryValue);
                ret.BoneDataModifiers = new MaskItem<Exception?, GenderedItem<Exception?>?>(Noggog.ExceptionExt.Combine(this.BoneDataModifiers?.Overall, rhs.BoneDataModifiers?.Overall), GenderedItem.Combine(this.BoneDataModifiers?.Specific, rhs.BoneDataModifiers?.Specific));
                return ret;
            }
            public static ErrorMask? Combine(ErrorMask? lhs, ErrorMask? rhs)
            {
                if (lhs != null && rhs != null) return lhs.Combine(rhs);
                return lhs ?? rhs;
            }
            #endregion

            #region Factory
            public static new ErrorMask Factory(ErrorMaskBuilder errorMask)
            {
                return new ErrorMask();
            }
            #endregion

        }
        public new class TranslationMask :
            StarfieldMajorRecord.TranslationMask,
            ITranslationMask
        {
            #region Members
            public AComponent.TranslationMask? Components;
            public bool FirstPersonFlags;
            public bool Race;
            public bool WeaponAdjust;
            public bool MalePriority;
            public bool FemalePriority;
            public bool Unknown;
            public bool DetectionSoundValue;
            public bool HealthBarOffset;
            public GenderedItem<Model.TranslationMask>? WorldModel;
            public GenderedItem<Model.TranslationMask>? FirstPersonModel;
            public GenderedItem<bool>? AltSkeleton;
            public bool ExtraLightLayers;
            public GenderedItem<ArmorAddonSkinTexture.TranslationMask>? SkinTexture;
            public GenderedItem<ArmorAddonMorph.TranslationMask>? Morphs;
            public bool AdditionalRaces;
            public bool FootstepSound;
            public bool ArtObject;
            public bool BodyPartData;
            public bool ActorValueModulationGroupType;
            public bool ActorValueModulationEntryType;
            public bool ActorValueModulationSubType;
            public bool ActorValueModulationEntryValue;
            public GenderedItem<bool>? BoneDataModifiers;
            #endregion

            #region Ctors
            public TranslationMask(
                bool defaultOn,
                bool onOverall = true)
                : base(defaultOn, onOverall)
            {
                this.FirstPersonFlags = defaultOn;
                this.Race = defaultOn;
                this.WeaponAdjust = defaultOn;
                this.MalePriority = defaultOn;
                this.FemalePriority = defaultOn;
                this.Unknown = defaultOn;
                this.DetectionSoundValue = defaultOn;
                this.HealthBarOffset = defaultOn;
                this.ExtraLightLayers = defaultOn;
                this.AdditionalRaces = defaultOn;
                this.FootstepSound = defaultOn;
                this.ArtObject = defaultOn;
                this.BodyPartData = defaultOn;
                this.ActorValueModulationGroupType = defaultOn;
                this.ActorValueModulationEntryType = defaultOn;
                this.ActorValueModulationSubType = defaultOn;
                this.ActorValueModulationEntryValue = defaultOn;
            }

            #endregion

            protected override void GetCrystal(List<(bool On, TranslationCrystal? SubCrystal)> ret)
            {
                base.GetCrystal(ret);
                ret.Add((Components == null ? DefaultOn : !Components.GetCrystal().CopyNothing, Components?.GetCrystal()));
                ret.Add((FirstPersonFlags, null));
                ret.Add((Race, null));
                ret.Add((WeaponAdjust, null));
                ret.Add((MalePriority, null));
                ret.Add((FemalePriority, null));
                ret.Add((Unknown, null));
                ret.Add((DetectionSoundValue, null));
                ret.Add((HealthBarOffset, null));
                ret.Add((WorldModel != null || DefaultOn, null));
                ret.Add((FirstPersonModel != null || DefaultOn, null));
                ret.Add((AltSkeleton != null || DefaultOn, null));
                ret.Add((ExtraLightLayers, null));
                ret.Add((SkinTexture != null || DefaultOn, null));
                ret.Add((Morphs != null || DefaultOn, null));
                ret.Add((AdditionalRaces, null));
                ret.Add((FootstepSound, null));
                ret.Add((ArtObject, null));
                ret.Add((BodyPartData, null));
                ret.Add((ActorValueModulationGroupType, null));
                ret.Add((ActorValueModulationEntryType, null));
                ret.Add((ActorValueModulationSubType, null));
                ret.Add((ActorValueModulationEntryValue, null));
                ret.Add((BoneDataModifiers != null || DefaultOn, null));
            }

            public static implicit operator TranslationMask(bool defaultOn)
            {
                return new TranslationMask(defaultOn: defaultOn, onOverall: defaultOn);
            }

        }
        #endregion

        #region Mutagen
        public static readonly RecordType GrupRecordType = ArmorAddon_Registration.TriggeringRecordType;
        public override IEnumerable<IFormLinkGetter> EnumerateFormLinks() => ArmorAddonCommon.Instance.EnumerateFormLinks(this);
        public override void RemapLinks(IReadOnlyDictionary<FormKey, FormKey> mapping) => ArmorAddonSetterCommon.Instance.RemapLinks(this, mapping);
        public ArmorAddon(
            FormKey formKey,
            StarfieldRelease gameRelease)
        {
            this.FormKey = formKey;
            this.FormVersion = GameConstants.Get(gameRelease.ToGameRelease()).DefaultFormVersion!.Value;
            CustomCtor();
        }

        private ArmorAddon(
            FormKey formKey,
            GameRelease gameRelease)
        {
            this.FormKey = formKey;
            this.FormVersion = GameConstants.Get(gameRelease).DefaultFormVersion!.Value;
            CustomCtor();
        }

        internal ArmorAddon(
            FormKey formKey,
            ushort formVersion)
        {
            this.FormKey = formKey;
            this.FormVersion = formVersion;
            CustomCtor();
        }

        public ArmorAddon(IStarfieldMod mod)
            : this(
                mod.GetNextFormKey(),
                mod.StarfieldRelease)
        {
        }

        public ArmorAddon(IStarfieldMod mod, string editorID)
            : this(
                mod.GetNextFormKey(editorID),
                mod.StarfieldRelease)
        {
            this.EditorID = editorID;
        }

        public override string ToString()
        {
            return MajorRecordPrinter<ArmorAddon>.ToString(this);
        }

        protected override Type LinkType => typeof(IArmorAddon);

        public MajorFlag MajorFlags
        {
            get => (MajorFlag)this.MajorRecordFlagsRaw;
            set => this.MajorRecordFlagsRaw = (int)value;
        }
        public override IEnumerable<IAssetLinkGetter> EnumerateAssetLinks(AssetLinkQuery queryCategories, IAssetLinkCache? linkCache, Type? assetType) => ArmorAddonCommon.Instance.EnumerateAssetLinks(this, queryCategories, linkCache, assetType);
        public override IEnumerable<IAssetLink> EnumerateListedAssetLinks() => ArmorAddonSetterCommon.Instance.EnumerateListedAssetLinks(this);
        public override void RemapAssetLinks(IReadOnlyDictionary<IAssetLinkGetter, string> mapping, AssetLinkQuery queryCategories, IAssetLinkCache? linkCache) => ArmorAddonSetterCommon.Instance.RemapAssetLinks(this, mapping, linkCache, queryCategories);
        public override void RemapListedAssetLinks(IReadOnlyDictionary<IAssetLinkGetter, string> mapping) => ArmorAddonSetterCommon.Instance.RemapAssetLinks(this, mapping, null, AssetLinkQuery.Listed);
        #region Equals and Hash
        public override bool Equals(object? obj)
        {
            if (obj is IFormLinkGetter formLink)
            {
                return formLink.Equals(this);
            }
            if (obj is not IArmorAddonGetter rhs) return false;
            return ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).Equals(this, rhs, equalsMask: null);
        }

        public bool Equals(IArmorAddonGetter? obj)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).Equals(this, obj, equalsMask: null);
        }

        public override int GetHashCode() => ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).GetHashCode(this);

        #endregion

        #endregion

        #region Binary Translation
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        protected override object BinaryWriteTranslator => ArmorAddonBinaryWriteTranslation.Instance;
        void IBinaryItem.WriteToBinary(
            MutagenWriter writer,
            TypedWriteParams translationParams = default)
        {
            ((ArmorAddonBinaryWriteTranslation)this.BinaryWriteTranslator).Write(
                item: this,
                writer: writer,
                translationParams: translationParams);
        }
        #region Binary Create
        public new static ArmorAddon CreateFromBinary(
            MutagenFrame frame,
            TypedParseParams translationParams = default)
        {
            var ret = new ArmorAddon();
            ((ArmorAddonSetterCommon)((IArmorAddonGetter)ret).CommonSetterInstance()!).CopyInFromBinary(
                item: ret,
                frame: frame,
                translationParams: translationParams);
            return ret;
        }

        #endregion

        public static bool TryCreateFromBinary(
            MutagenFrame frame,
            out ArmorAddon item,
            TypedParseParams translationParams = default)
        {
            var startPos = frame.Position;
            item = CreateFromBinary(
                frame: frame,
                translationParams: translationParams);
            return startPos != frame.Position;
        }
        #endregion

        void IPrintable.Print(StructuredStringBuilder sb, string? name) => this.Print(sb, name);

        void IClearable.Clear()
        {
            ((ArmorAddonSetterCommon)((IArmorAddonGetter)this).CommonSetterInstance()!).Clear(this);
        }

        internal static new ArmorAddon GetNew()
        {
            return new ArmorAddon();
        }

    }
    #endregion

    #region Interface
    public partial interface IArmorAddon :
        IArmorAddonGetter,
        IAssetLinkContainer,
        IFormLinkContainer,
        ILoquiObjectSetter<IArmorAddonInternal>,
        IStarfieldMajorRecordInternal
    {
        new ExtendedList<AComponent> Components { get; }
        new FirstPersonFlag? FirstPersonFlags { get; set; }
        new IFormLinkNullable<IRaceGetter> Race { get; set; }
        new Single WeaponAdjust { get; set; }
        new Byte MalePriority { get; set; }
        new Byte FemalePriority { get; set; }
        new UInt16 Unknown { get; set; }
        new Byte DetectionSoundValue { get; set; }
        new Single HealthBarOffset { get; set; }
        new IGenderedItem<Model?>? WorldModel { get; set; }
        new IGenderedItem<Model?>? FirstPersonModel { get; set; }
        new IGenderedItem<String?>? AltSkeleton { get; set; }
        new ExtendedList<UInt32> ExtraLightLayers { get; }
        new IGenderedItem<ArmorAddonSkinTexture?>? SkinTexture { get; set; }
        new IGenderedItem<ArmorAddonMorph?>? Morphs { get; set; }
        new ExtendedList<IFormLinkGetter<IRaceGetter>> AdditionalRaces { get; }
        new IFormLinkNullable<IFootstepSetGetter> FootstepSound { get; set; }
        new IFormLinkNullable<IArtObjectGetter> ArtObject { get; set; }
        new IFormLinkNullable<IBodyPartDataGetter> BodyPartData { get; set; }
        new ActorValueModulation.GroupType ActorValueModulationGroupType { get; set; }
        new String? ActorValueModulationEntryType { get; set; }
        new String? ActorValueModulationSubType { get; set; }
        new String? ActorValueModulationEntryValue { get; set; }
        new IGenderedItem<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>> BoneDataModifiers { get; set; }
        #region Mutagen
        new ArmorAddon.MajorFlag MajorFlags { get; set; }
        #endregion

    }

    public partial interface IArmorAddonInternal :
        IStarfieldMajorRecordInternal,
        IArmorAddon,
        IArmorAddonGetter
    {
        new IGenderedItem<Model?>? WorldModel { get; set; }
        new IGenderedItem<Model?>? FirstPersonModel { get; set; }
        new IGenderedItem<String?>? AltSkeleton { get; set; }
        new IGenderedItem<ArmorAddonSkinTexture?>? SkinTexture { get; set; }
        new IGenderedItem<ArmorAddonMorph?>? Morphs { get; set; }
        new IGenderedItem<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>> BoneDataModifiers { get; set; }
    }

    [AssociatedRecordTypesAttribute(Mutagen.Bethesda.Starfield.Internals.RecordTypeInts.ARMA)]
    public partial interface IArmorAddonGetter :
        IStarfieldMajorRecordGetter,
        IAssetLinkContainerGetter,
        IBinaryItem,
        IFormLinkContainerGetter,
        ILoquiObject<IArmorAddonGetter>,
        IMapsToGetter<IArmorAddonGetter>
    {
        static new ILoquiRegistration StaticRegistration => ArmorAddon_Registration.Instance;
        IReadOnlyList<IAComponentGetter> Components { get; }
        FirstPersonFlag? FirstPersonFlags { get; }
        IFormLinkNullableGetter<IRaceGetter> Race { get; }
        Single WeaponAdjust { get; }
        Byte MalePriority { get; }
        Byte FemalePriority { get; }
        UInt16 Unknown { get; }
        Byte DetectionSoundValue { get; }
        Single HealthBarOffset { get; }
        IGenderedItemGetter<IModelGetter?>? WorldModel { get; }
        IGenderedItemGetter<IModelGetter?>? FirstPersonModel { get; }
        IGenderedItemGetter<String?>? AltSkeleton { get; }
        IReadOnlyList<UInt32> ExtraLightLayers { get; }
        IGenderedItemGetter<IArmorAddonSkinTextureGetter?>? SkinTexture { get; }
        IGenderedItemGetter<IArmorAddonMorphGetter?>? Morphs { get; }
        IReadOnlyList<IFormLinkGetter<IRaceGetter>> AdditionalRaces { get; }
        IFormLinkNullableGetter<IFootstepSetGetter> FootstepSound { get; }
        IFormLinkNullableGetter<IArtObjectGetter> ArtObject { get; }
        IFormLinkNullableGetter<IBodyPartDataGetter> BodyPartData { get; }
        ActorValueModulation.GroupType ActorValueModulationGroupType { get; }
        String? ActorValueModulationEntryType { get; }
        String? ActorValueModulationSubType { get; }
        String? ActorValueModulationEntryValue { get; }
        IGenderedItemGetter<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>> BoneDataModifiers { get; }

        #region Mutagen
        ArmorAddon.MajorFlag MajorFlags { get; }
        #endregion

    }

    #endregion

    #region Common MixIn
    public static partial class ArmorAddonMixIn
    {
        public static void Clear(this IArmorAddonInternal item)
        {
            ((ArmorAddonSetterCommon)((IArmorAddonGetter)item).CommonSetterInstance()!).Clear(item: item);
        }

        public static ArmorAddon.Mask<bool> GetEqualsMask(
            this IArmorAddonGetter item,
            IArmorAddonGetter rhs,
            EqualsMaskHelper.Include include = EqualsMaskHelper.Include.All)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).GetEqualsMask(
                item: item,
                rhs: rhs,
                include: include);
        }

        public static string Print(
            this IArmorAddonGetter item,
            string? name = null,
            ArmorAddon.Mask<bool>? printMask = null)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).Print(
                item: item,
                name: name,
                printMask: printMask);
        }

        public static void Print(
            this IArmorAddonGetter item,
            StructuredStringBuilder sb,
            string? name = null,
            ArmorAddon.Mask<bool>? printMask = null)
        {
            ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).Print(
                item: item,
                sb: sb,
                name: name,
                printMask: printMask);
        }

        public static bool Equals(
            this IArmorAddonGetter item,
            IArmorAddonGetter rhs,
            ArmorAddon.TranslationMask? equalsMask = null)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).Equals(
                lhs: item,
                rhs: rhs,
                equalsMask: equalsMask?.GetCrystal());
        }

        public static void DeepCopyIn(
            this IArmorAddonInternal lhs,
            IArmorAddonGetter rhs,
            out ArmorAddon.ErrorMask errorMask,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            var errorMaskBuilder = new ErrorMaskBuilder();
            ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)lhs).CommonSetterTranslationInstance()!).DeepCopyIn(
                item: lhs,
                rhs: rhs,
                errorMask: errorMaskBuilder,
                copyMask: copyMask?.GetCrystal(),
                deepCopy: false);
            errorMask = ArmorAddon.ErrorMask.Factory(errorMaskBuilder);
        }

        public static void DeepCopyIn(
            this IArmorAddonInternal lhs,
            IArmorAddonGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask)
        {
            ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)lhs).CommonSetterTranslationInstance()!).DeepCopyIn(
                item: lhs,
                rhs: rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: false);
        }

        public static ArmorAddon DeepCopy(
            this IArmorAddonGetter item,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            return ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)item).CommonSetterTranslationInstance()!).DeepCopy(
                item: item,
                copyMask: copyMask);
        }

        public static ArmorAddon DeepCopy(
            this IArmorAddonGetter item,
            out ArmorAddon.ErrorMask errorMask,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            return ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)item).CommonSetterTranslationInstance()!).DeepCopy(
                item: item,
                copyMask: copyMask,
                errorMask: out errorMask);
        }

        public static ArmorAddon DeepCopy(
            this IArmorAddonGetter item,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask = null)
        {
            return ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)item).CommonSetterTranslationInstance()!).DeepCopy(
                item: item,
                copyMask: copyMask,
                errorMask: errorMask);
        }

        #region Mutagen
        public static ArmorAddon Duplicate(
            this IArmorAddonGetter item,
            FormKey formKey,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).Duplicate(
                item: item,
                formKey: formKey,
                copyMask: copyMask?.GetCrystal());
        }

        public static ArmorAddon Duplicate(
            this IArmorAddonGetter item,
            FormKey formKey,
            TranslationCrystal? copyMask)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).Duplicate(
                item: item,
                formKey: formKey,
                copyMask: copyMask);
        }

        #endregion

        #region Binary Translation
        public static void CopyInFromBinary(
            this IArmorAddonInternal item,
            MutagenFrame frame,
            TypedParseParams translationParams = default)
        {
            ((ArmorAddonSetterCommon)((IArmorAddonGetter)item).CommonSetterInstance()!).CopyInFromBinary(
                item: item,
                frame: frame,
                translationParams: translationParams);
        }

        #endregion

    }
    #endregion

}

namespace Mutagen.Bethesda.Starfield
{
    #region Field Index
    internal enum ArmorAddon_FieldIndex
    {
        MajorRecordFlagsRaw = 0,
        FormKey = 1,
        VersionControl = 2,
        EditorID = 3,
        FormVersion = 4,
        Version2 = 5,
        StarfieldMajorRecordFlags = 6,
        Components = 7,
        FirstPersonFlags = 8,
        Race = 9,
        WeaponAdjust = 10,
        MalePriority = 11,
        FemalePriority = 12,
        Unknown = 13,
        DetectionSoundValue = 14,
        HealthBarOffset = 15,
        WorldModel = 16,
        FirstPersonModel = 17,
        AltSkeleton = 18,
        ExtraLightLayers = 19,
        SkinTexture = 20,
        Morphs = 21,
        AdditionalRaces = 22,
        FootstepSound = 23,
        ArtObject = 24,
        BodyPartData = 25,
        ActorValueModulationGroupType = 26,
        ActorValueModulationEntryType = 27,
        ActorValueModulationSubType = 28,
        ActorValueModulationEntryValue = 29,
        BoneDataModifiers = 30,
    }
    #endregion

    #region Registration
    internal partial class ArmorAddon_Registration : ILoquiRegistration
    {
        public static readonly ArmorAddon_Registration Instance = new ArmorAddon_Registration();

        public static ProtocolKey ProtocolKey => ProtocolDefinition_Starfield.ProtocolKey;

        public const ushort AdditionalFieldCount = 24;

        public const ushort FieldCount = 31;

        public static readonly Type MaskType = typeof(ArmorAddon.Mask<>);

        public static readonly Type ErrorMaskType = typeof(ArmorAddon.ErrorMask);

        public static readonly Type ClassType = typeof(ArmorAddon);

        public static readonly Type GetterType = typeof(IArmorAddonGetter);

        public static readonly Type? InternalGetterType = null;

        public static readonly Type SetterType = typeof(IArmorAddon);

        public static readonly Type? InternalSetterType = typeof(IArmorAddonInternal);

        public const string FullName = "Mutagen.Bethesda.Starfield.ArmorAddon";

        public const string Name = "ArmorAddon";

        public const string Namespace = "Mutagen.Bethesda.Starfield";

        public const byte GenericCount = 0;

        public static readonly Type? GenericRegistrationType = null;

        public static readonly RecordType TriggeringRecordType = RecordTypes.ARMA;
        public static RecordTriggerSpecs TriggerSpecs => _recordSpecs.Value;
        private static readonly Lazy<RecordTriggerSpecs> _recordSpecs = new Lazy<RecordTriggerSpecs>(() =>
        {
            var triggers = RecordCollection.Factory(RecordTypes.ARMA);
            var all = RecordCollection.Factory(
                RecordTypes.ARMA,
                RecordTypes.BFCB,
                RecordTypes.BFCE,
                RecordTypes.BO64,
                RecordTypes.RNAM,
                RecordTypes.DNAM,
                RecordTypes.MOD2,
                RecordTypes.MOD3,
                RecordTypes.MO2T,
                RecordTypes.MO3T,
                RecordTypes.MLM1,
                RecordTypes.MLM2,
                RecordTypes.FLLD,
                RecordTypes.XFLG,
                RecordTypes.MO2C,
                RecordTypes.MO3C,
                RecordTypes.MO2F,
                RecordTypes.MO3F,
                RecordTypes.MOD4,
                RecordTypes.MOD5,
                RecordTypes.MO4T,
                RecordTypes.MO5T,
                RecordTypes.MLM3,
                RecordTypes.MLM4,
                RecordTypes.MO4C,
                RecordTypes.MO5C,
                RecordTypes.MO4F,
                RecordTypes.MO5F,
                RecordTypes.MOD6,
                RecordTypes.MOD7,
                RecordTypes.NAM1,
                RecordTypes.NAM0,
                RecordTypes.NAM3,
                RecordTypes.NAM2,
                RecordTypes.NAM6,
                RecordTypes.NAM4,
                RecordTypes.NAM7,
                RecordTypes.NAM5,
                RecordTypes.MODL,
                RecordTypes.SNDD,
                RecordTypes.ONAM,
                RecordTypes.PNAM,
                RecordTypes.MNAM,
                RecordTypes.TNAM,
                RecordTypes.SNAM,
                RecordTypes.VNAM,
                RecordTypes.BSMP,
                RecordTypes.BNAM);
            return new RecordTriggerSpecs(
                allRecordTypes: all,
                triggeringRecordTypes: triggers);
        });
        public static readonly Type BinaryWriteTranslation = typeof(ArmorAddonBinaryWriteTranslation);
        public static RecordTypeConverter WorldModelFemaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODL,
                RecordTypes.MOD3),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODT,
                RecordTypes.MO3T),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MOLM,
                RecordTypes.MLM2),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODC,
                RecordTypes.MO3C),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODF,
                RecordTypes.MO3F));
        public static RecordTypeConverter WorldModelMaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODL,
                RecordTypes.MOD2),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODT,
                RecordTypes.MO2T),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MOLM,
                RecordTypes.MLM1),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODC,
                RecordTypes.MO2C),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODF,
                RecordTypes.MO2F));
        public static RecordTypeConverter FirstPersonModelFemaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODL,
                RecordTypes.MOD5),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODT,
                RecordTypes.MO5T),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MOLM,
                RecordTypes.MLM4),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODC,
                RecordTypes.MO5C),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODF,
                RecordTypes.MO5F));
        public static RecordTypeConverter FirstPersonModelMaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODL,
                RecordTypes.MOD4),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODT,
                RecordTypes.MO4T),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MOLM,
                RecordTypes.MLM3),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODC,
                RecordTypes.MO4C),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.MODF,
                RecordTypes.MO4F));
        public static RecordTypeConverter SkinTextureFemaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.NAM0,
                RecordTypes.NAM1),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.NAM2,
                RecordTypes.NAM3));
        public static RecordTypeConverter MorphsFemaleConverter = new RecordTypeConverter(
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.NAM4,
                RecordTypes.NAM6),
            new KeyValuePair<RecordType, RecordType>(
                RecordTypes.NAM5,
                RecordTypes.NAM7));
        #region Interface
        ProtocolKey ILoquiRegistration.ProtocolKey => ProtocolKey;
        ushort ILoquiRegistration.FieldCount => FieldCount;
        ushort ILoquiRegistration.AdditionalFieldCount => AdditionalFieldCount;
        Type ILoquiRegistration.MaskType => MaskType;
        Type ILoquiRegistration.ErrorMaskType => ErrorMaskType;
        Type ILoquiRegistration.ClassType => ClassType;
        Type ILoquiRegistration.SetterType => SetterType;
        Type? ILoquiRegistration.InternalSetterType => InternalSetterType;
        Type ILoquiRegistration.GetterType => GetterType;
        Type? ILoquiRegistration.InternalGetterType => InternalGetterType;
        string ILoquiRegistration.FullName => FullName;
        string ILoquiRegistration.Name => Name;
        string ILoquiRegistration.Namespace => Namespace;
        byte ILoquiRegistration.GenericCount => GenericCount;
        Type? ILoquiRegistration.GenericRegistrationType => GenericRegistrationType;
        ushort? ILoquiRegistration.GetNameIndex(StringCaseAgnostic name) => throw new NotImplementedException();
        bool ILoquiRegistration.GetNthIsEnumerable(ushort index) => throw new NotImplementedException();
        bool ILoquiRegistration.GetNthIsLoqui(ushort index) => throw new NotImplementedException();
        bool ILoquiRegistration.GetNthIsSingleton(ushort index) => throw new NotImplementedException();
        string ILoquiRegistration.GetNthName(ushort index) => throw new NotImplementedException();
        bool ILoquiRegistration.IsNthDerivative(ushort index) => throw new NotImplementedException();
        bool ILoquiRegistration.IsProtected(ushort index) => throw new NotImplementedException();
        Type ILoquiRegistration.GetNthType(ushort index) => throw new NotImplementedException();
        #endregion

    }
    #endregion

    #region Common
    internal partial class ArmorAddonSetterCommon : StarfieldMajorRecordSetterCommon
    {
        public new static readonly ArmorAddonSetterCommon Instance = new ArmorAddonSetterCommon();

        partial void ClearPartial();
        
        public void Clear(IArmorAddonInternal item)
        {
            ClearPartial();
            item.Components.Clear();
            item.FirstPersonFlags = default;
            item.Race.Clear();
            item.WeaponAdjust = default(Single);
            item.MalePriority = default(Byte);
            item.FemalePriority = default(Byte);
            item.Unknown = default(UInt16);
            item.DetectionSoundValue = default(Byte);
            item.HealthBarOffset = default(Single);
            item.WorldModel = null;
            item.FirstPersonModel = null;
            item.AltSkeleton = null;
            item.ExtraLightLayers.Clear();
            item.SkinTexture = null;
            item.Morphs = null;
            item.AdditionalRaces.Clear();
            item.FootstepSound.Clear();
            item.ArtObject.Clear();
            item.BodyPartData.Clear();
            item.ActorValueModulationGroupType = default(ActorValueModulation.GroupType);
            item.ActorValueModulationEntryType = default;
            item.ActorValueModulationSubType = default;
            item.ActorValueModulationEntryValue = default;
            item.BoneDataModifiers.Male.Clear();
            item.BoneDataModifiers.Female.Clear();
            base.Clear(item);
        }
        
        public override void Clear(IStarfieldMajorRecordInternal item)
        {
            Clear(item: (IArmorAddonInternal)item);
        }
        
        public override void Clear(IMajorRecordInternal item)
        {
            Clear(item: (IArmorAddonInternal)item);
        }
        
        #region Mutagen
        public void RemapLinks(IArmorAddon obj, IReadOnlyDictionary<FormKey, FormKey> mapping)
        {
            base.RemapLinks(obj, mapping);
            obj.Components.RemapLinks(mapping);
            obj.Race.Relink(mapping);
            obj.WorldModel?.RemapLinks(mapping);
            obj.FirstPersonModel?.RemapLinks(mapping);
            obj.SkinTexture?.RemapLinks(mapping);
            obj.Morphs?.RemapLinks(mapping);
            obj.AdditionalRaces.RemapLinks(mapping);
            obj.FootstepSound.Relink(mapping);
            obj.ArtObject.Relink(mapping);
            obj.BodyPartData.Relink(mapping);
        }
        
        public IEnumerable<IAssetLink> EnumerateListedAssetLinks(IArmorAddon obj)
        {
            foreach (var item in base.EnumerateListedAssetLinks(obj))
            {
                yield return item;
            }
            foreach (var item in obj.Components.WhereCastable<IAComponentGetter, IAssetLinkContainer>()
                .SelectMany((f) => f.EnumerateListedAssetLinks()))
            {
                yield return item;
            }
            if (obj.WorldModel is {} WorldModelItem)
            {
                foreach (var item in WorldModelItem.WhereNotNull().SelectMany(f => f.EnumerateListedAssetLinks()))
                {
                    yield return item;
                }
            }
            if (obj.FirstPersonModel is {} FirstPersonModelItem)
            {
                foreach (var item in FirstPersonModelItem.WhereNotNull().SelectMany(f => f.EnumerateListedAssetLinks()))
                {
                    yield return item;
                }
            }
            yield break;
        }
        
        public void RemapAssetLinks(
            IArmorAddon obj,
            IReadOnlyDictionary<IAssetLinkGetter, string> mapping,
            IAssetLinkCache? linkCache,
            AssetLinkQuery queryCategories)
        {
            base.RemapAssetLinks(obj, mapping, linkCache, queryCategories);
            obj.Components.ForEach(x => x.RemapAssetLinks(mapping, queryCategories, linkCache));
            obj.WorldModel?.ForEach(x => x?.RemapAssetLinks(mapping, queryCategories, linkCache));
            obj.FirstPersonModel?.ForEach(x => x?.RemapAssetLinks(mapping, queryCategories, linkCache));
        }
        
        #endregion
        
        #region Binary Translation
        public virtual void CopyInFromBinary(
            IArmorAddonInternal item,
            MutagenFrame frame,
            TypedParseParams translationParams)
        {
            PluginUtilityTranslation.MajorRecordParse<IArmorAddonInternal>(
                record: item,
                frame: frame,
                translationParams: translationParams,
                fillStructs: ArmorAddonBinaryCreateTranslation.FillBinaryStructs,
                fillTyped: ArmorAddonBinaryCreateTranslation.FillBinaryRecordTypes);
        }
        
        public override void CopyInFromBinary(
            IStarfieldMajorRecordInternal item,
            MutagenFrame frame,
            TypedParseParams translationParams)
        {
            CopyInFromBinary(
                item: (ArmorAddon)item,
                frame: frame,
                translationParams: translationParams);
        }
        
        public override void CopyInFromBinary(
            IMajorRecordInternal item,
            MutagenFrame frame,
            TypedParseParams translationParams)
        {
            CopyInFromBinary(
                item: (ArmorAddon)item,
                frame: frame,
                translationParams: translationParams);
        }
        
        #endregion
        
    }
    internal partial class ArmorAddonCommon : StarfieldMajorRecordCommon
    {
        public new static readonly ArmorAddonCommon Instance = new ArmorAddonCommon();

        public ArmorAddon.Mask<bool> GetEqualsMask(
            IArmorAddonGetter item,
            IArmorAddonGetter rhs,
            EqualsMaskHelper.Include include = EqualsMaskHelper.Include.All)
        {
            var ret = new ArmorAddon.Mask<bool>(false);
            ((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).FillEqualsMask(
                item: item,
                rhs: rhs,
                ret: ret,
                include: include);
            return ret;
        }
        
        public void FillEqualsMask(
            IArmorAddonGetter item,
            IArmorAddonGetter rhs,
            ArmorAddon.Mask<bool> ret,
            EqualsMaskHelper.Include include = EqualsMaskHelper.Include.All)
        {
            ret.Components = item.Components.CollectionEqualsHelper(
                rhs.Components,
                (loqLhs, loqRhs) => loqLhs.GetEqualsMask(loqRhs, include),
                include);
            ret.FirstPersonFlags = item.FirstPersonFlags == rhs.FirstPersonFlags;
            ret.Race = item.Race.Equals(rhs.Race);
            ret.WeaponAdjust = item.WeaponAdjust.EqualsWithin(rhs.WeaponAdjust);
            ret.MalePriority = item.MalePriority == rhs.MalePriority;
            ret.FemalePriority = item.FemalePriority == rhs.FemalePriority;
            ret.Unknown = item.Unknown == rhs.Unknown;
            ret.DetectionSoundValue = item.DetectionSoundValue == rhs.DetectionSoundValue;
            ret.HealthBarOffset = item.HealthBarOffset.EqualsWithin(rhs.HealthBarOffset);
            ret.WorldModel = GenderedItem.EqualityMaskHelper(
                lhs: item.WorldModel,
                rhs: rhs.WorldModel,
                maskGetter: (l, r, i) => EqualsMaskHelper.EqualsHelper(l, r, (loqLhs, loqRhs, incl) => loqLhs.GetEqualsMask(loqRhs, incl), i),
                include: include);
            ret.FirstPersonModel = GenderedItem.EqualityMaskHelper(
                lhs: item.FirstPersonModel,
                rhs: rhs.FirstPersonModel,
                maskGetter: (l, r, i) => EqualsMaskHelper.EqualsHelper(l, r, (loqLhs, loqRhs, incl) => loqLhs.GetEqualsMask(loqRhs, incl), i),
                include: include);
            ret.AltSkeleton = GenderedItem.EqualityMaskHelper(
                lhs: item.AltSkeleton,
                rhs: rhs.AltSkeleton,
                maskGetter: (l, r, i) => EqualityComparer<String?>.Default.Equals(l, r),
                include: include);
            ret.ExtraLightLayers = item.ExtraLightLayers.CollectionEqualsHelper(
                rhs.ExtraLightLayers,
                (l, r) => l == r,
                include);
            ret.SkinTexture = GenderedItem.EqualityMaskHelper(
                lhs: item.SkinTexture,
                rhs: rhs.SkinTexture,
                maskGetter: (l, r, i) => EqualsMaskHelper.EqualsHelper(l, r, (loqLhs, loqRhs, incl) => loqLhs.GetEqualsMask(loqRhs, incl), i),
                include: include);
            ret.Morphs = GenderedItem.EqualityMaskHelper(
                lhs: item.Morphs,
                rhs: rhs.Morphs,
                maskGetter: (l, r, i) => EqualsMaskHelper.EqualsHelper(l, r, (loqLhs, loqRhs, incl) => loqLhs.GetEqualsMask(loqRhs, incl), i),
                include: include);
            ret.AdditionalRaces = item.AdditionalRaces.CollectionEqualsHelper(
                rhs.AdditionalRaces,
                (l, r) => object.Equals(l, r),
                include);
            ret.FootstepSound = item.FootstepSound.Equals(rhs.FootstepSound);
            ret.ArtObject = item.ArtObject.Equals(rhs.ArtObject);
            ret.BodyPartData = item.BodyPartData.Equals(rhs.BodyPartData);
            ret.ActorValueModulationGroupType = item.ActorValueModulationGroupType == rhs.ActorValueModulationGroupType;
            ret.ActorValueModulationEntryType = string.Equals(item.ActorValueModulationEntryType, rhs.ActorValueModulationEntryType);
            ret.ActorValueModulationSubType = string.Equals(item.ActorValueModulationSubType, rhs.ActorValueModulationSubType);
            ret.ActorValueModulationEntryValue = string.Equals(item.ActorValueModulationEntryValue, rhs.ActorValueModulationEntryValue);
            ret.BoneDataModifiers = new GenderedItem<bool>(
                male: item.BoneDataModifiers.Male.SequenceEqualNullable(rhs.BoneDataModifiers.Male),
                female: item.BoneDataModifiers.Female.SequenceEqualNullable(rhs.BoneDataModifiers.Female));
            base.FillEqualsMask(item, rhs, ret, include);
        }
        
        public string Print(
            IArmorAddonGetter item,
            string? name = null,
            ArmorAddon.Mask<bool>? printMask = null)
        {
            var sb = new StructuredStringBuilder();
            Print(
                item: item,
                sb: sb,
                name: name,
                printMask: printMask);
            return sb.ToString();
        }
        
        public void Print(
            IArmorAddonGetter item,
            StructuredStringBuilder sb,
            string? name = null,
            ArmorAddon.Mask<bool>? printMask = null)
        {
            if (name == null)
            {
                sb.AppendLine($"ArmorAddon =>");
            }
            else
            {
                sb.AppendLine($"{name} (ArmorAddon) =>");
            }
            using (sb.Brace())
            {
                ToStringFields(
                    item: item,
                    sb: sb,
                    printMask: printMask);
            }
        }
        
        protected static void ToStringFields(
            IArmorAddonGetter item,
            StructuredStringBuilder sb,
            ArmorAddon.Mask<bool>? printMask = null)
        {
            StarfieldMajorRecordCommon.ToStringFields(
                item: item,
                sb: sb,
                printMask: printMask);
            if (printMask?.Components?.Overall ?? true)
            {
                sb.AppendLine("Components =>");
                using (sb.Brace())
                {
                    foreach (var subItem in item.Components)
                    {
                        using (sb.Brace())
                        {
                            subItem?.Print(sb, "Item");
                        }
                    }
                }
            }
            if ((printMask?.FirstPersonFlags ?? true)
                && item.FirstPersonFlags is {} FirstPersonFlagsItem)
            {
                sb.AppendItem(FirstPersonFlagsItem, "FirstPersonFlags");
            }
            if (printMask?.Race ?? true)
            {
                sb.AppendItem(item.Race.FormKeyNullable, "Race");
            }
            if (printMask?.WeaponAdjust ?? true)
            {
                sb.AppendItem(item.WeaponAdjust, "WeaponAdjust");
            }
            if (printMask?.MalePriority ?? true)
            {
                sb.AppendItem(item.MalePriority, "MalePriority");
            }
            if (printMask?.FemalePriority ?? true)
            {
                sb.AppendItem(item.FemalePriority, "FemalePriority");
            }
            if (printMask?.Unknown ?? true)
            {
                sb.AppendItem(item.Unknown, "Unknown");
            }
            if (printMask?.DetectionSoundValue ?? true)
            {
                sb.AppendItem(item.DetectionSoundValue, "DetectionSoundValue");
            }
            if (printMask?.HealthBarOffset ?? true)
            {
                sb.AppendItem(item.HealthBarOffset, "HealthBarOffset");
            }
            if ((printMask?.WorldModel?.Overall ?? true)
                && item.WorldModel is {} WorldModelItem)
            {
                WorldModelItem?.Print(sb, "WorldModel");
            }
            if ((printMask?.FirstPersonModel?.Overall ?? true)
                && item.FirstPersonModel is {} FirstPersonModelItem)
            {
                FirstPersonModelItem?.Print(sb, "FirstPersonModel");
            }
            if ((printMask?.AltSkeleton?.Overall ?? true)
                && item.AltSkeleton is {} AltSkeletonItem)
            {
                AltSkeletonItem?.Print(sb, "AltSkeleton");
            }
            if (printMask?.ExtraLightLayers?.Overall ?? true)
            {
                sb.AppendLine("ExtraLightLayers =>");
                using (sb.Brace())
                {
                    foreach (var subItem in item.ExtraLightLayers)
                    {
                        using (sb.Brace())
                        {
                            sb.AppendItem(subItem);
                        }
                    }
                }
            }
            if ((printMask?.SkinTexture?.Overall ?? true)
                && item.SkinTexture is {} SkinTextureItem)
            {
                SkinTextureItem?.Print(sb, "SkinTexture");
            }
            if ((printMask?.Morphs?.Overall ?? true)
                && item.Morphs is {} MorphsItem)
            {
                MorphsItem?.Print(sb, "Morphs");
            }
            if (printMask?.AdditionalRaces?.Overall ?? true)
            {
                sb.AppendLine("AdditionalRaces =>");
                using (sb.Brace())
                {
                    foreach (var subItem in item.AdditionalRaces)
                    {
                        using (sb.Brace())
                        {
                            sb.AppendItem(subItem.FormKey);
                        }
                    }
                }
            }
            if (printMask?.FootstepSound ?? true)
            {
                sb.AppendItem(item.FootstepSound.FormKeyNullable, "FootstepSound");
            }
            if (printMask?.ArtObject ?? true)
            {
                sb.AppendItem(item.ArtObject.FormKeyNullable, "ArtObject");
            }
            if (printMask?.BodyPartData ?? true)
            {
                sb.AppendItem(item.BodyPartData.FormKeyNullable, "BodyPartData");
            }
            if (printMask?.ActorValueModulationGroupType ?? true)
            {
                sb.AppendItem(item.ActorValueModulationGroupType, "ActorValueModulationGroupType");
            }
            if ((printMask?.ActorValueModulationEntryType ?? true)
                && item.ActorValueModulationEntryType is {} ActorValueModulationEntryTypeItem)
            {
                sb.AppendItem(ActorValueModulationEntryTypeItem, "ActorValueModulationEntryType");
            }
            if ((printMask?.ActorValueModulationSubType ?? true)
                && item.ActorValueModulationSubType is {} ActorValueModulationSubTypeItem)
            {
                sb.AppendItem(ActorValueModulationSubTypeItem, "ActorValueModulationSubType");
            }
            if ((printMask?.ActorValueModulationEntryValue ?? true)
                && item.ActorValueModulationEntryValue is {} ActorValueModulationEntryValueItem)
            {
                sb.AppendItem(ActorValueModulationEntryValueItem, "ActorValueModulationEntryValue");
            }
            if (true)
            {
                item.BoneDataModifiers.Print(sb, "BoneDataModifiers");
            }
        }
        
        public static ArmorAddon_FieldIndex ConvertFieldIndex(StarfieldMajorRecord_FieldIndex index)
        {
            switch (index)
            {
                case StarfieldMajorRecord_FieldIndex.MajorRecordFlagsRaw:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.FormKey:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.VersionControl:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.EditorID:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.FormVersion:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.Version2:
                    return (ArmorAddon_FieldIndex)((int)index);
                case StarfieldMajorRecord_FieldIndex.StarfieldMajorRecordFlags:
                    return (ArmorAddon_FieldIndex)((int)index);
                default:
                    throw new ArgumentException($"Index is out of range: {index.ToStringFast()}");
            }
        }
        
        public static new ArmorAddon_FieldIndex ConvertFieldIndex(MajorRecord_FieldIndex index)
        {
            switch (index)
            {
                case MajorRecord_FieldIndex.MajorRecordFlagsRaw:
                    return (ArmorAddon_FieldIndex)((int)index);
                case MajorRecord_FieldIndex.FormKey:
                    return (ArmorAddon_FieldIndex)((int)index);
                case MajorRecord_FieldIndex.VersionControl:
                    return (ArmorAddon_FieldIndex)((int)index);
                case MajorRecord_FieldIndex.EditorID:
                    return (ArmorAddon_FieldIndex)((int)index);
                default:
                    throw new ArgumentException($"Index is out of range: {index.ToStringFast()}");
            }
        }
        
        #region Equals and Hash
        public virtual bool Equals(
            IArmorAddonGetter? lhs,
            IArmorAddonGetter? rhs,
            TranslationCrystal? equalsMask)
        {
            if (!EqualsMaskHelper.RefEquality(lhs, rhs, out var isEqual)) return isEqual;
            if (!base.Equals((IStarfieldMajorRecordGetter)lhs, (IStarfieldMajorRecordGetter)rhs, equalsMask)) return false;
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Components) ?? true))
            {
                if (!lhs.Components.SequenceEqual(rhs.Components, (l, r) => ((AComponentCommon)((IAComponentGetter)l).CommonInstance()!).Equals(l, r, equalsMask?.GetSubCrystal((int)ArmorAddon_FieldIndex.Components)))) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FirstPersonFlags) ?? true))
            {
                if (lhs.FirstPersonFlags != rhs.FirstPersonFlags) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Race) ?? true))
            {
                if (!lhs.Race.Equals(rhs.Race)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.WeaponAdjust) ?? true))
            {
                if (!lhs.WeaponAdjust.EqualsWithin(rhs.WeaponAdjust)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.MalePriority) ?? true))
            {
                if (lhs.MalePriority != rhs.MalePriority) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FemalePriority) ?? true))
            {
                if (lhs.FemalePriority != rhs.FemalePriority) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Unknown) ?? true))
            {
                if (lhs.Unknown != rhs.Unknown) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.DetectionSoundValue) ?? true))
            {
                if (lhs.DetectionSoundValue != rhs.DetectionSoundValue) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.HealthBarOffset) ?? true))
            {
                if (!lhs.HealthBarOffset.EqualsWithin(rhs.HealthBarOffset)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.WorldModel) ?? true))
            {
                if (!Equals(lhs.WorldModel, rhs.WorldModel)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FirstPersonModel) ?? true))
            {
                if (!Equals(lhs.FirstPersonModel, rhs.FirstPersonModel)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.AltSkeleton) ?? true))
            {
                if (!Equals(lhs.AltSkeleton, rhs.AltSkeleton)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ExtraLightLayers) ?? true))
            {
                if (!lhs.ExtraLightLayers.SequenceEqualNullable(rhs.ExtraLightLayers)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.SkinTexture) ?? true))
            {
                if (!Equals(lhs.SkinTexture, rhs.SkinTexture)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Morphs) ?? true))
            {
                if (!Equals(lhs.Morphs, rhs.Morphs)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.AdditionalRaces) ?? true))
            {
                if (!lhs.AdditionalRaces.SequenceEqualNullable(rhs.AdditionalRaces)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FootstepSound) ?? true))
            {
                if (!lhs.FootstepSound.Equals(rhs.FootstepSound)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ArtObject) ?? true))
            {
                if (!lhs.ArtObject.Equals(rhs.ArtObject)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.BodyPartData) ?? true))
            {
                if (!lhs.BodyPartData.Equals(rhs.BodyPartData)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationGroupType) ?? true))
            {
                if (lhs.ActorValueModulationGroupType != rhs.ActorValueModulationGroupType) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationEntryType) ?? true))
            {
                if (!string.Equals(lhs.ActorValueModulationEntryType, rhs.ActorValueModulationEntryType)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationSubType) ?? true))
            {
                if (!string.Equals(lhs.ActorValueModulationSubType, rhs.ActorValueModulationSubType)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationEntryValue) ?? true))
            {
                if (!string.Equals(lhs.ActorValueModulationEntryValue, rhs.ActorValueModulationEntryValue)) return false;
            }
            if ((equalsMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.BoneDataModifiers) ?? true))
            {
                if (!Equals(lhs.BoneDataModifiers, rhs.BoneDataModifiers)) return false;
            }
            return true;
        }
        
        public override bool Equals(
            IStarfieldMajorRecordGetter? lhs,
            IStarfieldMajorRecordGetter? rhs,
            TranslationCrystal? equalsMask)
        {
            return Equals(
                lhs: (IArmorAddonGetter?)lhs,
                rhs: rhs as IArmorAddonGetter,
                equalsMask: equalsMask);
        }
        
        public override bool Equals(
            IMajorRecordGetter? lhs,
            IMajorRecordGetter? rhs,
            TranslationCrystal? equalsMask)
        {
            return Equals(
                lhs: (IArmorAddonGetter?)lhs,
                rhs: rhs as IArmorAddonGetter,
                equalsMask: equalsMask);
        }
        
        public virtual int GetHashCode(IArmorAddonGetter item)
        {
            var hash = new HashCode();
            hash.Add(item.Components);
            if (item.FirstPersonFlags is {} FirstPersonFlagsitem)
            {
                hash.Add(FirstPersonFlagsitem);
            }
            hash.Add(item.Race);
            hash.Add(item.WeaponAdjust);
            hash.Add(item.MalePriority);
            hash.Add(item.FemalePriority);
            hash.Add(item.Unknown);
            hash.Add(item.DetectionSoundValue);
            hash.Add(item.HealthBarOffset);
            if (item.WorldModel is {} WorldModelitem)
            {
                hash.Add(HashCode.Combine(WorldModelitem.Male, WorldModelitem.Female));
            }
            if (item.FirstPersonModel is {} FirstPersonModelitem)
            {
                hash.Add(HashCode.Combine(FirstPersonModelitem.Male, FirstPersonModelitem.Female));
            }
            if (item.AltSkeleton is {} AltSkeletonitem)
            {
                hash.Add(HashCode.Combine(AltSkeletonitem.Male, AltSkeletonitem.Female));
            }
            hash.Add(item.ExtraLightLayers);
            if (item.SkinTexture is {} SkinTextureitem)
            {
                hash.Add(HashCode.Combine(SkinTextureitem.Male, SkinTextureitem.Female));
            }
            if (item.Morphs is {} Morphsitem)
            {
                hash.Add(HashCode.Combine(Morphsitem.Male, Morphsitem.Female));
            }
            hash.Add(item.AdditionalRaces);
            hash.Add(item.FootstepSound);
            hash.Add(item.ArtObject);
            hash.Add(item.BodyPartData);
            hash.Add(item.ActorValueModulationGroupType);
            if (item.ActorValueModulationEntryType is {} ActorValueModulationEntryTypeitem)
            {
                hash.Add(ActorValueModulationEntryTypeitem);
            }
            if (item.ActorValueModulationSubType is {} ActorValueModulationSubTypeitem)
            {
                hash.Add(ActorValueModulationSubTypeitem);
            }
            if (item.ActorValueModulationEntryValue is {} ActorValueModulationEntryValueitem)
            {
                hash.Add(ActorValueModulationEntryValueitem);
            }
            hash.Add(HashCode.Combine(item.BoneDataModifiers.Male, item.BoneDataModifiers.Female));
            hash.Add(base.GetHashCode());
            return hash.ToHashCode();
        }
        
        public override int GetHashCode(IStarfieldMajorRecordGetter item)
        {
            return GetHashCode(item: (IArmorAddonGetter)item);
        }
        
        public override int GetHashCode(IMajorRecordGetter item)
        {
            return GetHashCode(item: (IArmorAddonGetter)item);
        }
        
        #endregion
        
        
        public override object GetNew()
        {
            return ArmorAddon.GetNew();
        }
        
        #region Mutagen
        public IEnumerable<IFormLinkGetter> EnumerateFormLinks(IArmorAddonGetter obj)
        {
            foreach (var item in base.EnumerateFormLinks(obj))
            {
                yield return item;
            }
            foreach (var item in obj.Components.WhereCastable<IAComponentGetter, IFormLinkContainerGetter>()
                .SelectMany((f) => f.EnumerateFormLinks()))
            {
                yield return FormLinkInformation.Factory(item);
            }
            if (FormLinkInformation.TryFactory(obj.Race, out var RaceInfo))
            {
                yield return RaceInfo;
            }
            if (obj.WorldModel is {} WorldModelItem)
            {
                foreach (var item in WorldModelItem.WhereNotNull().SelectMany(f => f.EnumerateFormLinks()))
                {
                    yield return FormLinkInformation.Factory(item);
                }
            }
            if (obj.FirstPersonModel is {} FirstPersonModelItem)
            {
                foreach (var item in FirstPersonModelItem.WhereNotNull().SelectMany(f => f.EnumerateFormLinks()))
                {
                    yield return FormLinkInformation.Factory(item);
                }
            }
            if (obj.SkinTexture is {} SkinTextureItem)
            {
                foreach (var item in SkinTextureItem.WhereNotNull().SelectMany(f => f.EnumerateFormLinks()))
                {
                    yield return FormLinkInformation.Factory(item);
                }
            }
            if (obj.Morphs is {} MorphsItem)
            {
                foreach (var item in MorphsItem.WhereNotNull().SelectMany(f => f.EnumerateFormLinks()))
                {
                    yield return FormLinkInformation.Factory(item);
                }
            }
            foreach (var item in obj.AdditionalRaces)
            {
                yield return FormLinkInformation.Factory(item);
            }
            if (FormLinkInformation.TryFactory(obj.FootstepSound, out var FootstepSoundInfo))
            {
                yield return FootstepSoundInfo;
            }
            if (FormLinkInformation.TryFactory(obj.ArtObject, out var ArtObjectInfo))
            {
                yield return ArtObjectInfo;
            }
            if (FormLinkInformation.TryFactory(obj.BodyPartData, out var BodyPartDataInfo))
            {
                yield return BodyPartDataInfo;
            }
            yield break;
        }
        
        public IEnumerable<IAssetLinkGetter> EnumerateAssetLinks(IArmorAddonGetter obj, AssetLinkQuery queryCategories, IAssetLinkCache? linkCache, Type? assetType)
        {
            foreach (var item in base.EnumerateAssetLinks(obj, queryCategories, linkCache, assetType))
            {
                yield return item;
            }
            foreach (var item in obj.Components.WhereCastable<IAComponentGetter, IAssetLinkContainerGetter>()
                .SelectMany((f) => f.EnumerateAssetLinks(queryCategories: queryCategories, linkCache: linkCache, assetType: assetType)))
            {
                yield return item;
            }
            if (obj.WorldModel is {} WorldModelItem)
            {
                foreach (var item in WorldModelItem.WhereNotNull().SelectMany(f => f.EnumerateAssetLinks(queryCategories: queryCategories, linkCache: linkCache, assetType: assetType)))
                {
                    yield return item;
                }
            }
            if (obj.FirstPersonModel is {} FirstPersonModelItem)
            {
                foreach (var item in FirstPersonModelItem.WhereNotNull().SelectMany(f => f.EnumerateAssetLinks(queryCategories: queryCategories, linkCache: linkCache, assetType: assetType)))
                {
                    yield return item;
                }
            }
            yield break;
        }
        
        #region Duplicate
        public ArmorAddon Duplicate(
            IArmorAddonGetter item,
            FormKey formKey,
            TranslationCrystal? copyMask)
        {
            var newRec = new ArmorAddon(formKey, item.FormVersion);
            newRec.DeepCopyIn(item, default(ErrorMaskBuilder?), copyMask);
            return newRec;
        }
        
        public override StarfieldMajorRecord Duplicate(
            IStarfieldMajorRecordGetter item,
            FormKey formKey,
            TranslationCrystal? copyMask)
        {
            return this.Duplicate(
                item: (IArmorAddonGetter)item,
                formKey: formKey,
                copyMask: copyMask);
        }
        
        public override MajorRecord Duplicate(
            IMajorRecordGetter item,
            FormKey formKey,
            TranslationCrystal? copyMask)
        {
            return this.Duplicate(
                item: (IArmorAddonGetter)item,
                formKey: formKey,
                copyMask: copyMask);
        }
        
        #endregion
        
        #endregion
        
    }
    internal partial class ArmorAddonSetterTranslationCommon : StarfieldMajorRecordSetterTranslationCommon
    {
        public new static readonly ArmorAddonSetterTranslationCommon Instance = new ArmorAddonSetterTranslationCommon();

        #region DeepCopyIn
        public void DeepCopyIn(
            IArmorAddonInternal item,
            IArmorAddonGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            base.DeepCopyIn(
                item,
                rhs,
                errorMask,
                copyMask,
                deepCopy: deepCopy);
        }
        
        public void DeepCopyIn(
            IArmorAddon item,
            IArmorAddonGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            base.DeepCopyIn(
                (IStarfieldMajorRecord)item,
                (IStarfieldMajorRecordGetter)rhs,
                errorMask,
                copyMask,
                deepCopy: deepCopy);
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Components) ?? true))
            {
                errorMask?.PushIndex((int)ArmorAddon_FieldIndex.Components);
                try
                {
                    item.Components.SetTo(
                        rhs.Components
                        .Select(r =>
                        {
                            return r.DeepCopy(
                                errorMask: errorMask,
                                default(TranslationCrystal));
                        }));
                }
                catch (Exception ex)
                when (errorMask != null)
                {
                    errorMask.ReportException(ex);
                }
                finally
                {
                    errorMask?.PopIndex();
                }
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FirstPersonFlags) ?? true))
            {
                item.FirstPersonFlags = rhs.FirstPersonFlags;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Race) ?? true))
            {
                item.Race.SetTo(rhs.Race.FormKeyNullable);
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.WeaponAdjust) ?? true))
            {
                item.WeaponAdjust = rhs.WeaponAdjust;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.MalePriority) ?? true))
            {
                item.MalePriority = rhs.MalePriority;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FemalePriority) ?? true))
            {
                item.FemalePriority = rhs.FemalePriority;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.Unknown) ?? true))
            {
                item.Unknown = rhs.Unknown;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.DetectionSoundValue) ?? true))
            {
                item.DetectionSoundValue = rhs.DetectionSoundValue;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.HealthBarOffset) ?? true))
            {
                item.HealthBarOffset = rhs.HealthBarOffset;
            }
            if (rhs.WorldModel is not {} rhsWorldModelitem)
            {
                item.WorldModel = null;
            }
            else
            {
                item.WorldModel = new GenderedItem<Model?>(
                    male: rhsWorldModelitem.Male?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)),
                    female: rhsWorldModelitem.Female?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)));
            }
            if (rhs.FirstPersonModel is not {} rhsFirstPersonModelitem)
            {
                item.FirstPersonModel = null;
            }
            else
            {
                item.FirstPersonModel = new GenderedItem<Model?>(
                    male: rhsFirstPersonModelitem.Male?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)),
                    female: rhsFirstPersonModelitem.Female?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)));
            }
            if (rhs.AltSkeleton is not {} rhsAltSkeletonitem)
            {
                item.AltSkeleton = null;
            }
            else
            {
                item.AltSkeleton = new GenderedItem<String?>(
                    male: rhsAltSkeletonitem.Male,
                    female: rhsAltSkeletonitem.Female);
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ExtraLightLayers) ?? true))
            {
                errorMask?.PushIndex((int)ArmorAddon_FieldIndex.ExtraLightLayers);
                try
                {
                    item.ExtraLightLayers.SetTo(rhs.ExtraLightLayers);
                }
                catch (Exception ex)
                when (errorMask != null)
                {
                    errorMask.ReportException(ex);
                }
                finally
                {
                    errorMask?.PopIndex();
                }
            }
            if (rhs.SkinTexture is not {} rhsSkinTextureitem)
            {
                item.SkinTexture = null;
            }
            else
            {
                item.SkinTexture = new GenderedItem<ArmorAddonSkinTexture?>(
                    male: rhsSkinTextureitem.Male?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)),
                    female: rhsSkinTextureitem.Female?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)));
            }
            if (rhs.Morphs is not {} rhsMorphsitem)
            {
                item.Morphs = null;
            }
            else
            {
                item.Morphs = new GenderedItem<ArmorAddonMorph?>(
                    male: rhsMorphsitem.Male?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)),
                    female: rhsMorphsitem.Female?.DeepCopy(
                        errorMask: errorMask,
                        default(TranslationCrystal)));
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.AdditionalRaces) ?? true))
            {
                errorMask?.PushIndex((int)ArmorAddon_FieldIndex.AdditionalRaces);
                try
                {
                    item.AdditionalRaces.SetTo(
                        rhs.AdditionalRaces
                            .Select(b => (IFormLinkGetter<IRaceGetter>)new FormLink<IRaceGetter>(b.FormKey)));
                }
                catch (Exception ex)
                when (errorMask != null)
                {
                    errorMask.ReportException(ex);
                }
                finally
                {
                    errorMask?.PopIndex();
                }
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.FootstepSound) ?? true))
            {
                item.FootstepSound.SetTo(rhs.FootstepSound.FormKeyNullable);
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ArtObject) ?? true))
            {
                item.ArtObject.SetTo(rhs.ArtObject.FormKeyNullable);
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.BodyPartData) ?? true))
            {
                item.BodyPartData.SetTo(rhs.BodyPartData.FormKeyNullable);
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationGroupType) ?? true))
            {
                item.ActorValueModulationGroupType = rhs.ActorValueModulationGroupType;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationEntryType) ?? true))
            {
                item.ActorValueModulationEntryType = rhs.ActorValueModulationEntryType;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationSubType) ?? true))
            {
                item.ActorValueModulationSubType = rhs.ActorValueModulationSubType;
            }
            if ((copyMask?.GetShouldTranslate((int)ArmorAddon_FieldIndex.ActorValueModulationEntryValue) ?? true))
            {
                item.ActorValueModulationEntryValue = rhs.ActorValueModulationEntryValue;
            }
            item.BoneDataModifiers = new GenderedItem<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>>(
                male: rhs.BoneDataModifiers.Male.Select(x => new FormLink<IBoneModifierGetter>(x.FormKey)).ToExtendedList<IFormLinkGetter<IBoneModifierGetter>>(),
                female: rhs.BoneDataModifiers.Female.Select(x => new FormLink<IBoneModifierGetter>(x.FormKey)).ToExtendedList<IFormLinkGetter<IBoneModifierGetter>>());
            DeepCopyInCustom(
                item: item,
                rhs: rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: deepCopy);
        }
        
        partial void DeepCopyInCustom(
            IArmorAddon item,
            IArmorAddonGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy);
        public override void DeepCopyIn(
            IStarfieldMajorRecordInternal item,
            IStarfieldMajorRecordGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            this.DeepCopyIn(
                item: (IArmorAddonInternal)item,
                rhs: (IArmorAddonGetter)rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: deepCopy);
        }
        
        public override void DeepCopyIn(
            IStarfieldMajorRecord item,
            IStarfieldMajorRecordGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            this.DeepCopyIn(
                item: (IArmorAddon)item,
                rhs: (IArmorAddonGetter)rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: deepCopy);
        }
        
        public override void DeepCopyIn(
            IMajorRecordInternal item,
            IMajorRecordGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            this.DeepCopyIn(
                item: (IArmorAddonInternal)item,
                rhs: (IArmorAddonGetter)rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: deepCopy);
        }
        
        public override void DeepCopyIn(
            IMajorRecord item,
            IMajorRecordGetter rhs,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask,
            bool deepCopy)
        {
            this.DeepCopyIn(
                item: (IArmorAddon)item,
                rhs: (IArmorAddonGetter)rhs,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: deepCopy);
        }
        
        #endregion
        
        public ArmorAddon DeepCopy(
            IArmorAddonGetter item,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            ArmorAddon ret = (ArmorAddon)((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).GetNew();
            ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)ret).CommonSetterTranslationInstance()!).DeepCopyIn(
                item: ret,
                rhs: item,
                errorMask: null,
                copyMask: copyMask?.GetCrystal(),
                deepCopy: true);
            return ret;
        }
        
        public ArmorAddon DeepCopy(
            IArmorAddonGetter item,
            out ArmorAddon.ErrorMask errorMask,
            ArmorAddon.TranslationMask? copyMask = null)
        {
            var errorMaskBuilder = new ErrorMaskBuilder();
            ArmorAddon ret = (ArmorAddon)((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).GetNew();
            ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)ret).CommonSetterTranslationInstance()!).DeepCopyIn(
                ret,
                item,
                errorMask: errorMaskBuilder,
                copyMask: copyMask?.GetCrystal(),
                deepCopy: true);
            errorMask = ArmorAddon.ErrorMask.Factory(errorMaskBuilder);
            return ret;
        }
        
        public ArmorAddon DeepCopy(
            IArmorAddonGetter item,
            ErrorMaskBuilder? errorMask,
            TranslationCrystal? copyMask = null)
        {
            ArmorAddon ret = (ArmorAddon)((ArmorAddonCommon)((IArmorAddonGetter)item).CommonInstance()!).GetNew();
            ((ArmorAddonSetterTranslationCommon)((IArmorAddonGetter)ret).CommonSetterTranslationInstance()!).DeepCopyIn(
                item: ret,
                rhs: item,
                errorMask: errorMask,
                copyMask: copyMask,
                deepCopy: true);
            return ret;
        }
        
    }
    #endregion

}

namespace Mutagen.Bethesda.Starfield
{
    public partial class ArmorAddon
    {
        #region Common Routing
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        ILoquiRegistration ILoquiObject.Registration => ArmorAddon_Registration.Instance;
        public new static ILoquiRegistration StaticRegistration => ArmorAddon_Registration.Instance;
        [DebuggerStepThrough]
        protected override object CommonInstance() => ArmorAddonCommon.Instance;
        [DebuggerStepThrough]
        protected override object CommonSetterInstance()
        {
            return ArmorAddonSetterCommon.Instance;
        }
        [DebuggerStepThrough]
        protected override object CommonSetterTranslationInstance() => ArmorAddonSetterTranslationCommon.Instance;

        #endregion

    }
}

#region Modules
#region Binary Translation
namespace Mutagen.Bethesda.Starfield
{
    public partial class ArmorAddonBinaryWriteTranslation :
        StarfieldMajorRecordBinaryWriteTranslation,
        IBinaryWriteTranslator
    {
        public new static readonly ArmorAddonBinaryWriteTranslation Instance = new();

        public static void WriteRecordTypes(
            IArmorAddonGetter item,
            MutagenWriter writer,
            TypedWriteParams translationParams)
        {
            MajorRecordBinaryWriteTranslation.WriteRecordTypes(
                item: item,
                writer: writer,
                translationParams: translationParams);
            Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<IAComponentGetter>.Instance.Write(
                writer: writer,
                items: item.Components,
                transl: (MutagenWriter subWriter, IAComponentGetter subItem, TypedWriteParams conv) =>
                {
                    var Item = subItem;
                    ((AComponentBinaryWriteTranslation)((IBinaryItem)Item).BinaryWriteTranslator).Write(
                        item: Item,
                        writer: subWriter,
                        translationParams: conv);
                });
            EnumBinaryTranslation<FirstPersonFlag, MutagenFrame, MutagenWriter>.Instance.WriteNullable(
                writer,
                item.FirstPersonFlags,
                length: 8,
                header: translationParams.ConvertToCustom(RecordTypes.BO64));
            FormLinkBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.Race,
                header: translationParams.ConvertToCustom(RecordTypes.RNAM));
            using (HeaderExport.Subrecord(writer, translationParams.ConvertToCustom(RecordTypes.DNAM)))
            {
                FloatBinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Write(
                    writer: writer,
                    item: item.WeaponAdjust);
                writer.Write(item.MalePriority);
                writer.Write(item.FemalePriority);
                writer.Write(item.Unknown);
                writer.Write(item.DetectionSoundValue);
                FloatBinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Write(
                    writer: writer,
                    item: item.HealthBarOffset);
            }
            GenderedItemBinaryTranslation.Write(
                writer: writer,
                item: item.WorldModel,
                femaleRecordConverter: ArmorAddon_Registration.WorldModelFemaleConverter,
                maleRecordConverter: ArmorAddon_Registration.WorldModelMaleConverter,
                transl: (MutagenWriter subWriter, IModelGetter? subItem, TypedWriteParams conv) =>
                {
                    if (subItem is {} Item)
                    {
                        ((ModelBinaryWriteTranslation)((IBinaryItem)Item).BinaryWriteTranslator).Write(
                            item: Item,
                            writer: subWriter,
                            translationParams: conv);
                    }
                });
            GenderedItemBinaryTranslation.Write(
                writer: writer,
                item: item.FirstPersonModel,
                femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                transl: (MutagenWriter subWriter, IModelGetter? subItem, TypedWriteParams conv) =>
                {
                    if (subItem is {} Item)
                    {
                        ((ModelBinaryWriteTranslation)((IBinaryItem)Item).BinaryWriteTranslator).Write(
                            item: Item,
                            writer: subWriter,
                            translationParams: conv);
                    }
                });
            GenderedItemBinaryTranslation.Write(
                writer: writer,
                item: item.AltSkeleton,
                maleMarker: RecordTypes.MOD6,
                femaleMarker: RecordTypes.MOD7,
                transl: StringBinaryTranslation.Instance.WriteNullable);
            Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<UInt32>.Instance.WritePerItem(
                writer: writer,
                items: item.ExtraLightLayers,
                recordType: translationParams.ConvertToCustom(RecordTypes.FLLD),
                transl: UInt32BinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Write);
            GenderedItemBinaryTranslation.Write(
                writer: writer,
                item: item.SkinTexture,
                femaleRecordConverter: ArmorAddon_Registration.SkinTextureFemaleConverter,
                transl: (MutagenWriter subWriter, IArmorAddonSkinTextureGetter? subItem, TypedWriteParams conv) =>
                {
                    if (subItem is {} Item)
                    {
                        ((ArmorAddonSkinTextureBinaryWriteTranslation)((IBinaryItem)Item).BinaryWriteTranslator).Write(
                            item: Item,
                            writer: subWriter,
                            translationParams: conv);
                    }
                });
            GenderedItemBinaryTranslation.Write(
                writer: writer,
                item: item.Morphs,
                femaleRecordConverter: ArmorAddon_Registration.MorphsFemaleConverter,
                transl: (MutagenWriter subWriter, IArmorAddonMorphGetter? subItem, TypedWriteParams conv) =>
                {
                    if (subItem is {} Item)
                    {
                        ((ArmorAddonMorphBinaryWriteTranslation)((IBinaryItem)Item).BinaryWriteTranslator).Write(
                            item: Item,
                            writer: subWriter,
                            translationParams: conv);
                    }
                });
            Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<IFormLinkGetter<IRaceGetter>>.Instance.Write(
                writer: writer,
                items: item.AdditionalRaces,
                transl: (MutagenWriter subWriter, IFormLinkGetter<IRaceGetter> subItem, TypedWriteParams conv) =>
                {
                    FormLinkBinaryTranslation.Instance.Write(
                        writer: subWriter,
                        item: subItem,
                        header: translationParams.ConvertToCustom(RecordTypes.MODL));
                });
            FormLinkBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.FootstepSound,
                header: translationParams.ConvertToCustom(RecordTypes.SNDD));
            FormLinkBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.ArtObject,
                header: translationParams.ConvertToCustom(RecordTypes.ONAM));
            FormLinkBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.BodyPartData,
                header: translationParams.ConvertToCustom(RecordTypes.PNAM));
            EnumBinaryTranslation<ActorValueModulation.GroupType, MutagenFrame, MutagenWriter>.Instance.Write(
                writer,
                item.ActorValueModulationGroupType,
                length: 4,
                header: translationParams.ConvertToCustom(RecordTypes.MNAM));
            StringBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.ActorValueModulationEntryType,
                header: translationParams.ConvertToCustom(RecordTypes.TNAM),
                binaryType: StringBinaryType.NullTerminate);
            StringBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.ActorValueModulationSubType,
                header: translationParams.ConvertToCustom(RecordTypes.SNAM),
                binaryType: StringBinaryType.NullTerminate);
            StringBinaryTranslation.Instance.WriteNullable(
                writer: writer,
                item: item.ActorValueModulationEntryValue,
                header: translationParams.ConvertToCustom(RecordTypes.VNAM),
                binaryType: StringBinaryType.NullTerminate);
            GenderedItemBinaryTranslation.WriteGenderedEnumRecord(
                writer: writer,
                item: item.BoneDataModifiers,
                genderEnumRecord: RecordTypes.BSMP,
                transl: (MutagenWriter subWriter, IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>> subItem) =>
                {
                    Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<IFormLinkGetter<IBoneModifierGetter>>.Instance.Write(
                        writer: subWriter,
                        items: subItem,
                        transl: (MutagenWriter subWriter, IFormLinkGetter<IBoneModifierGetter> subItem, TypedWriteParams conv) =>
                        {
                            FormLinkBinaryTranslation.Instance.Write(
                                writer: subWriter,
                                item: subItem,
                                header: translationParams.ConvertToCustom(RecordTypes.BNAM));
                        });
                });
        }

        public void Write(
            MutagenWriter writer,
            IArmorAddonGetter item,
            TypedWriteParams translationParams)
        {
            PluginUtilityTranslation.WriteMajorRecord(
                writer: writer,
                item: item,
                translationParams: translationParams,
                type: RecordTypes.ARMA,
                writeEmbedded: StarfieldMajorRecordBinaryWriteTranslation.WriteEmbedded,
                writeRecordTypes: WriteRecordTypes);
        }

        public override void Write(
            MutagenWriter writer,
            object item,
            TypedWriteParams translationParams = default)
        {
            Write(
                item: (IArmorAddonGetter)item,
                writer: writer,
                translationParams: translationParams);
        }

        public override void Write(
            MutagenWriter writer,
            IStarfieldMajorRecordGetter item,
            TypedWriteParams translationParams)
        {
            Write(
                item: (IArmorAddonGetter)item,
                writer: writer,
                translationParams: translationParams);
        }

        public override void Write(
            MutagenWriter writer,
            IMajorRecordGetter item,
            TypedWriteParams translationParams)
        {
            Write(
                item: (IArmorAddonGetter)item,
                writer: writer,
                translationParams: translationParams);
        }

    }

    internal partial class ArmorAddonBinaryCreateTranslation : StarfieldMajorRecordBinaryCreateTranslation
    {
        public new static readonly ArmorAddonBinaryCreateTranslation Instance = new ArmorAddonBinaryCreateTranslation();

        public override RecordType RecordType => RecordTypes.ARMA;
        public static ParseResult FillBinaryRecordTypes(
            IArmorAddonInternal item,
            MutagenFrame frame,
            PreviousParse lastParsed,
            Dictionary<RecordType, int>? recordParseCount,
            RecordType nextRecordType,
            int contentLength,
            TypedParseParams translationParams = default)
        {
            nextRecordType = translationParams.ConvertToStandard(nextRecordType);
            switch (nextRecordType.TypeInt)
            {
                case RecordTypeInts.BFCB:
                {
                    item.Components.SetTo(
                        Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<AComponent>.Instance.Parse(
                            reader: frame,
                            triggeringRecord: AComponent_Registration.TriggerSpecs,
                            translationParams: translationParams,
                            transl: AComponent.TryCreateFromBinary));
                    return (int)ArmorAddon_FieldIndex.Components;
                }
                case RecordTypeInts.BO64:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.FirstPersonFlags = EnumBinaryTranslation<FirstPersonFlag, MutagenFrame, MutagenWriter>.Instance.Parse(
                        reader: frame,
                        length: contentLength);
                    return (int)ArmorAddon_FieldIndex.FirstPersonFlags;
                }
                case RecordTypeInts.RNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.Race.SetTo(FormLinkBinaryTranslation.Instance.Parse(reader: frame));
                    return (int)ArmorAddon_FieldIndex.Race;
                }
                case RecordTypeInts.DNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    var dataFrame = frame.SpawnWithLength(contentLength);
                    if (dataFrame.Remaining < 4) return null;
                    item.WeaponAdjust = FloatBinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Parse(reader: dataFrame);
                    if (dataFrame.Remaining < 1) return null;
                    item.MalePriority = dataFrame.ReadUInt8();
                    if (dataFrame.Remaining < 1) return null;
                    item.FemalePriority = dataFrame.ReadUInt8();
                    if (dataFrame.Remaining < 2) return null;
                    item.Unknown = dataFrame.ReadUInt16();
                    if (dataFrame.Remaining < 1) return null;
                    item.DetectionSoundValue = dataFrame.ReadUInt8();
                    if (dataFrame.Remaining < 4) return null;
                    item.HealthBarOffset = FloatBinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Parse(reader: dataFrame);
                    return (int)ArmorAddon_FieldIndex.HealthBarOffset;
                }
                case RecordTypeInts.MOD2:
                case RecordTypeInts.MOD3:
                case RecordTypeInts.MO2T:
                case RecordTypeInts.MO3T:
                case RecordTypeInts.MLM1:
                case RecordTypeInts.MLM2:
                case RecordTypeInts.MO2C:
                case RecordTypeInts.MO3C:
                case RecordTypeInts.MO2F:
                case RecordTypeInts.MO3F:
                case RecordTypeInts.FLLD:
                case RecordTypeInts.XFLG:
                {
                    if (!lastParsed.ParsedIndex.HasValue
                        || lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.HealthBarOffset)
                    {
                        item.WorldModel = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<Model>(
                            frame: frame,
                            femaleRecordConverter: ArmorAddon_Registration.WorldModelFemaleConverter,
                            maleRecordConverter: ArmorAddon_Registration.WorldModelMaleConverter,
                            transl: Model.TryCreateFromBinary);
                        return new ParseResult((int)ArmorAddon_FieldIndex.WorldModel, nextRecordType);
                    }
                    else if (lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.WorldModel)
                    {
                        item.FirstPersonModel = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<Model>(
                            frame: frame,
                            femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                            maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                            transl: Model.TryCreateFromBinary);
                        return new ParseResult((int)ArmorAddon_FieldIndex.FirstPersonModel, nextRecordType);
                    }
                    else if (lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.AltSkeleton)
                    {
                        item.ExtraLightLayers.SetTo(
                            Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<UInt32>.Instance.Parse(
                                reader: frame,
                                triggeringRecord: translationParams.ConvertToCustom(RecordTypes.FLLD),
                                transl: UInt32BinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Parse));
                        return new ParseResult((int)ArmorAddon_FieldIndex.ExtraLightLayers, nextRecordType);
                    }
                    else
                    {
                        switch (recordParseCount?.GetOrAdd(nextRecordType) ?? 0)
                        {
                            case 0:
                                item.WorldModel = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<Model>(
                                    frame: frame,
                                    femaleRecordConverter: ArmorAddon_Registration.WorldModelFemaleConverter,
                                    maleRecordConverter: ArmorAddon_Registration.WorldModelMaleConverter,
                                    transl: Model.TryCreateFromBinary);
                                return new ParseResult((int)ArmorAddon_FieldIndex.WorldModel, nextRecordType);
                            case 1:
                                item.FirstPersonModel = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<Model>(
                                    frame: frame,
                                    femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                                    maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                                    transl: Model.TryCreateFromBinary);
                                return new ParseResult((int)ArmorAddon_FieldIndex.FirstPersonModel, nextRecordType);
                            case 2:
                                item.ExtraLightLayers.SetTo(
                                    Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<UInt32>.Instance.Parse(
                                        reader: frame,
                                        triggeringRecord: translationParams.ConvertToCustom(RecordTypes.FLLD),
                                        transl: UInt32BinaryTranslation<MutagenFrame, MutagenWriter>.Instance.Parse));
                                return new ParseResult((int)ArmorAddon_FieldIndex.ExtraLightLayers, nextRecordType);
                            default:
                                throw new NotImplementedException();
                        }
                    }
                }
                case RecordTypeInts.MOD4:
                case RecordTypeInts.MOD5:
                case RecordTypeInts.MO4T:
                case RecordTypeInts.MO5T:
                case RecordTypeInts.MLM3:
                case RecordTypeInts.MLM4:
                case RecordTypeInts.MO4C:
                case RecordTypeInts.MO5C:
                case RecordTypeInts.MO4F:
                case RecordTypeInts.MO5F:
                {
                    item.FirstPersonModel = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<Model>(
                        frame: frame,
                        femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                        maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                        transl: Model.TryCreateFromBinary);
                    return (int)ArmorAddon_FieldIndex.FirstPersonModel;
                }
                case RecordTypeInts.MOD6:
                case RecordTypeInts.MOD7:
                {
                    item.AltSkeleton = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<String>(
                        frame: frame,
                        maleMarker: RecordTypes.MOD6,
                        femaleMarker: RecordTypes.MOD7,
                        transl: StringBinaryTranslation.Instance.Parse,
                        skipMarker: false);
                    return (int)ArmorAddon_FieldIndex.AltSkeleton;
                }
                case RecordTypeInts.NAM1:
                case RecordTypeInts.NAM0:
                case RecordTypeInts.NAM3:
                case RecordTypeInts.NAM2:
                {
                    item.SkinTexture = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<ArmorAddonSkinTexture>(
                        frame: frame,
                        femaleRecordConverter: ArmorAddon_Registration.SkinTextureFemaleConverter,
                        shortCircuit: false,
                        transl: ArmorAddonSkinTexture.TryCreateFromBinary);
                    return (int)ArmorAddon_FieldIndex.SkinTexture;
                }
                case RecordTypeInts.NAM6:
                case RecordTypeInts.NAM4:
                case RecordTypeInts.NAM7:
                case RecordTypeInts.NAM5:
                {
                    item.Morphs = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.Parse<ArmorAddonMorph>(
                        frame: frame,
                        femaleRecordConverter: ArmorAddon_Registration.MorphsFemaleConverter,
                        shortCircuit: false,
                        transl: ArmorAddonMorph.TryCreateFromBinary);
                    return (int)ArmorAddon_FieldIndex.Morphs;
                }
                case RecordTypeInts.MODL:
                {
                    item.AdditionalRaces.SetTo(
                        Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<IFormLinkGetter<IRaceGetter>>.Instance.Parse(
                            reader: frame,
                            triggeringRecord: translationParams.ConvertToCustom(RecordTypes.MODL),
                            transl: FormLinkBinaryTranslation.Instance.Parse));
                    return (int)ArmorAddon_FieldIndex.AdditionalRaces;
                }
                case RecordTypeInts.SNDD:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.FootstepSound.SetTo(FormLinkBinaryTranslation.Instance.Parse(reader: frame));
                    return (int)ArmorAddon_FieldIndex.FootstepSound;
                }
                case RecordTypeInts.ONAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.ArtObject.SetTo(FormLinkBinaryTranslation.Instance.Parse(reader: frame));
                    return (int)ArmorAddon_FieldIndex.ArtObject;
                }
                case RecordTypeInts.PNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.BodyPartData.SetTo(FormLinkBinaryTranslation.Instance.Parse(reader: frame));
                    return (int)ArmorAddon_FieldIndex.BodyPartData;
                }
                case RecordTypeInts.MNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.ActorValueModulationGroupType = EnumBinaryTranslation<ActorValueModulation.GroupType, MutagenFrame, MutagenWriter>.Instance.Parse(
                        reader: frame,
                        length: contentLength);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationGroupType;
                }
                case RecordTypeInts.TNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.ActorValueModulationEntryType = StringBinaryTranslation.Instance.Parse(
                        reader: frame.SpawnWithLength(contentLength),
                        stringBinaryType: StringBinaryType.NullTerminate,
                        parseWhole: true);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationEntryType;
                }
                case RecordTypeInts.SNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.ActorValueModulationSubType = StringBinaryTranslation.Instance.Parse(
                        reader: frame.SpawnWithLength(contentLength),
                        stringBinaryType: StringBinaryType.NullTerminate,
                        parseWhole: true);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationSubType;
                }
                case RecordTypeInts.VNAM:
                {
                    frame.Position += frame.MetaData.Constants.SubConstants.HeaderLength;
                    item.ActorValueModulationEntryValue = StringBinaryTranslation.Instance.Parse(
                        reader: frame.SpawnWithLength(contentLength),
                        stringBinaryType: StringBinaryType.NullTerminate,
                        parseWhole: true);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationEntryValue;
                }
                case RecordTypeInts.BSMP:
                {
                    item.BoneDataModifiers = Mutagen.Bethesda.Plugins.Binary.Translations.GenderedItemBinaryTranslation.ParseRequired<ExtendedList<IFormLinkGetter<IBoneModifierGetter>>>(
                        frame: frame,
                        genderEnumRecord: RecordTypes.BSMP,
                        contentMarker: RecordTypes.BNAM,
                        transl: (MutagenFrame r, [MaybeNullWhen(false)] out ExtendedList<IFormLinkGetter<IBoneModifierGetter>> genSubItem) =>
                        {
                            genSubItem = new ExtendedList<IFormLinkGetter<IBoneModifierGetter>>();
                            genSubItem.SetTo(
                                Mutagen.Bethesda.Plugins.Binary.Translations.ListBinaryTranslation<IFormLinkGetter<IBoneModifierGetter>>.Instance.Parse(
                                    reader: frame,
                                    triggeringRecord: translationParams.ConvertToCustom(RecordTypes.BNAM),
                                    transl: FormLinkBinaryTranslation.Instance.Parse));
                            return true;
                        });
                    return (int)ArmorAddon_FieldIndex.BoneDataModifiers;
                }
                default:
                    return StarfieldMajorRecordBinaryCreateTranslation.FillBinaryRecordTypes(
                        item: item,
                        frame: frame,
                        lastParsed: lastParsed,
                        recordParseCount: recordParseCount,
                        nextRecordType: nextRecordType,
                        contentLength: contentLength,
                        translationParams: translationParams.WithNoConverter());
            }
        }

    }

}
namespace Mutagen.Bethesda.Starfield
{
    #region Binary Write Mixins
    public static class ArmorAddonBinaryTranslationMixIn
    {
    }
    #endregion


}
namespace Mutagen.Bethesda.Starfield
{
    internal partial class ArmorAddonBinaryOverlay :
        StarfieldMajorRecordBinaryOverlay,
        IArmorAddonGetter
    {
        #region Common Routing
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        ILoquiRegistration ILoquiObject.Registration => ArmorAddon_Registration.Instance;
        public new static ILoquiRegistration StaticRegistration => ArmorAddon_Registration.Instance;
        [DebuggerStepThrough]
        protected override object CommonInstance() => ArmorAddonCommon.Instance;
        [DebuggerStepThrough]
        protected override object CommonSetterTranslationInstance() => ArmorAddonSetterTranslationCommon.Instance;

        #endregion

        void IPrintable.Print(StructuredStringBuilder sb, string? name) => this.Print(sb, name);

        public override IEnumerable<IFormLinkGetter> EnumerateFormLinks() => ArmorAddonCommon.Instance.EnumerateFormLinks(this);
        public override IEnumerable<IAssetLinkGetter> EnumerateAssetLinks(AssetLinkQuery queryCategories, IAssetLinkCache? linkCache, Type? assetType) => ArmorAddonCommon.Instance.EnumerateAssetLinks(this, queryCategories, linkCache, assetType);
        [DebuggerBrowsable(DebuggerBrowsableState.Never)]
        protected override object BinaryWriteTranslator => ArmorAddonBinaryWriteTranslation.Instance;
        void IBinaryItem.WriteToBinary(
            MutagenWriter writer,
            TypedWriteParams translationParams = default)
        {
            ((ArmorAddonBinaryWriteTranslation)this.BinaryWriteTranslator).Write(
                item: this,
                writer: writer,
                translationParams: translationParams);
        }
        protected override Type LinkType => typeof(IArmorAddon);

        public ArmorAddon.MajorFlag MajorFlags => (ArmorAddon.MajorFlag)this.MajorRecordFlagsRaw;

        public IReadOnlyList<IAComponentGetter> Components { get; private set; } = [];
        #region FirstPersonFlags
        private int? _FirstPersonFlagsLocation;
        public FirstPersonFlag? FirstPersonFlags => EnumBinaryTranslation<FirstPersonFlag, MutagenFrame, MutagenWriter>.Instance.ParseRecordNullable(_FirstPersonFlagsLocation, _recordData, _package, 8);
        #endregion
        #region Race
        private int? _RaceLocation;
        public IFormLinkNullableGetter<IRaceGetter> Race => FormLinkBinaryTranslation.Instance.NullableRecordOverlayFactory<IRaceGetter>(_package, _recordData, _RaceLocation);
        #endregion
        private RangeInt32? _DNAMLocation;
        #region WeaponAdjust
        private int _WeaponAdjustLocation => _DNAMLocation!.Value.Min;
        private bool _WeaponAdjust_IsSet => _DNAMLocation.HasValue;
        public Single WeaponAdjust => _WeaponAdjust_IsSet ? _recordData.Slice(_WeaponAdjustLocation, 4).Float() : default(Single);
        #endregion
        #region MalePriority
        private int _MalePriorityLocation => _DNAMLocation!.Value.Min + 0x4;
        private bool _MalePriority_IsSet => _DNAMLocation.HasValue;
        public Byte MalePriority => _MalePriority_IsSet ? _recordData.Span[_MalePriorityLocation] : default;
        #endregion
        #region FemalePriority
        private int _FemalePriorityLocation => _DNAMLocation!.Value.Min + 0x5;
        private bool _FemalePriority_IsSet => _DNAMLocation.HasValue;
        public Byte FemalePriority => _FemalePriority_IsSet ? _recordData.Span[_FemalePriorityLocation] : default;
        #endregion
        #region Unknown
        private int _UnknownLocation => _DNAMLocation!.Value.Min + 0x6;
        private bool _Unknown_IsSet => _DNAMLocation.HasValue;
        public UInt16 Unknown => _Unknown_IsSet ? BinaryPrimitives.ReadUInt16LittleEndian(_recordData.Slice(_UnknownLocation, 2)) : default(UInt16);
        #endregion
        #region DetectionSoundValue
        private int _DetectionSoundValueLocation => _DNAMLocation!.Value.Min + 0x8;
        private bool _DetectionSoundValue_IsSet => _DNAMLocation.HasValue;
        public Byte DetectionSoundValue => _DetectionSoundValue_IsSet ? _recordData.Span[_DetectionSoundValueLocation] : default;
        #endregion
        #region HealthBarOffset
        private int _HealthBarOffsetLocation => _DNAMLocation!.Value.Min + 0x9;
        private bool _HealthBarOffset_IsSet => _DNAMLocation.HasValue;
        public Single HealthBarOffset => _HealthBarOffset_IsSet ? _recordData.Slice(_HealthBarOffsetLocation, 4).Float() : default(Single);
        #endregion
        #region WorldModel
        private IGenderedItemGetter<IModelGetter?>? _WorldModelOverlay;
        public IGenderedItemGetter<IModelGetter?>? WorldModel => _WorldModelOverlay;
        #endregion
        #region FirstPersonModel
        private IGenderedItemGetter<IModelGetter?>? _FirstPersonModelOverlay;
        public IGenderedItemGetter<IModelGetter?>? FirstPersonModel => _FirstPersonModelOverlay;
        #endregion
        #region AltSkeleton
        private IGenderedItemGetter<String?>? _AltSkeletonOverlay;
        public IGenderedItemGetter<String?>? AltSkeleton => _AltSkeletonOverlay;
        #endregion
        public IReadOnlyList<UInt32> ExtraLightLayers { get; private set; } = [];
        #region SkinTexture
        private IGenderedItemGetter<IArmorAddonSkinTextureGetter?>? _SkinTextureOverlay;
        public IGenderedItemGetter<IArmorAddonSkinTextureGetter?>? SkinTexture => _SkinTextureOverlay;
        #endregion
        #region Morphs
        private IGenderedItemGetter<IArmorAddonMorphGetter?>? _MorphsOverlay;
        public IGenderedItemGetter<IArmorAddonMorphGetter?>? Morphs => _MorphsOverlay;
        #endregion
        public IReadOnlyList<IFormLinkGetter<IRaceGetter>> AdditionalRaces { get; private set; } = [];
        #region FootstepSound
        private int? _FootstepSoundLocation;
        public IFormLinkNullableGetter<IFootstepSetGetter> FootstepSound => FormLinkBinaryTranslation.Instance.NullableRecordOverlayFactory<IFootstepSetGetter>(_package, _recordData, _FootstepSoundLocation);
        #endregion
        #region ArtObject
        private int? _ArtObjectLocation;
        public IFormLinkNullableGetter<IArtObjectGetter> ArtObject => FormLinkBinaryTranslation.Instance.NullableRecordOverlayFactory<IArtObjectGetter>(_package, _recordData, _ArtObjectLocation);
        #endregion
        #region BodyPartData
        private int? _BodyPartDataLocation;
        public IFormLinkNullableGetter<IBodyPartDataGetter> BodyPartData => FormLinkBinaryTranslation.Instance.NullableRecordOverlayFactory<IBodyPartDataGetter>(_package, _recordData, _BodyPartDataLocation);
        #endregion
        #region ActorValueModulationGroupType
        private int? _ActorValueModulationGroupTypeLocation;
        public ActorValueModulation.GroupType ActorValueModulationGroupType => EnumBinaryTranslation<ActorValueModulation.GroupType, MutagenFrame, MutagenWriter>.Instance.ParseRecord(_ActorValueModulationGroupTypeLocation, _recordData, _package, 4);
        #endregion
        #region ActorValueModulationEntryType
        private int? _ActorValueModulationEntryTypeLocation;
        public String? ActorValueModulationEntryType => _ActorValueModulationEntryTypeLocation.HasValue ? BinaryStringUtility.ProcessWholeToZString(HeaderTranslation.ExtractSubrecordMemory(_recordData, _ActorValueModulationEntryTypeLocation.Value, _package.MetaData.Constants), encoding: _package.MetaData.Encodings.NonTranslated) : default(string?);
        #endregion
        #region ActorValueModulationSubType
        private int? _ActorValueModulationSubTypeLocation;
        public String? ActorValueModulationSubType => _ActorValueModulationSubTypeLocation.HasValue ? BinaryStringUtility.ProcessWholeToZString(HeaderTranslation.ExtractSubrecordMemory(_recordData, _ActorValueModulationSubTypeLocation.Value, _package.MetaData.Constants), encoding: _package.MetaData.Encodings.NonTranslated) : default(string?);
        #endregion
        #region ActorValueModulationEntryValue
        private int? _ActorValueModulationEntryValueLocation;
        public String? ActorValueModulationEntryValue => _ActorValueModulationEntryValueLocation.HasValue ? BinaryStringUtility.ProcessWholeToZString(HeaderTranslation.ExtractSubrecordMemory(_recordData, _ActorValueModulationEntryValueLocation.Value, _package.MetaData.Constants), encoding: _package.MetaData.Encodings.NonTranslated) : default(string?);
        #endregion
        #region BoneDataModifiers
        private int? _BoneDataModifiersLocation;
        private IGenderedItemGetter<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>>? _BoneDataModifiersOverlay;
        public IGenderedItemGetter<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>> BoneDataModifiers => _BoneDataModifiersOverlay ?? new GenderedItem<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>>(Array.Empty<IFormLinkGetter<IBoneModifierGetter>>(), Array.Empty<IFormLinkGetter<IBoneModifierGetter>>());
        #endregion
        partial void CustomFactoryEnd(
            OverlayStream stream,
            int finalPos,
            int offset);

        partial void CustomCtor();
        protected ArmorAddonBinaryOverlay(
            MemoryPair memoryPair,
            BinaryOverlayFactoryPackage package)
            : base(
                memoryPair: memoryPair,
                package: package)
        {
            this.CustomCtor();
        }

        public static IArmorAddonGetter ArmorAddonFactory(
            OverlayStream stream,
            BinaryOverlayFactoryPackage package,
            TypedParseParams translationParams = default)
        {
            stream = Decompression.DecompressStream(stream);
            stream = ExtractRecordMemory(
                stream: stream,
                meta: package.MetaData.Constants,
                memoryPair: out var memoryPair,
                offset: out var offset,
                finalPos: out var finalPos);
            var ret = new ArmorAddonBinaryOverlay(
                memoryPair: memoryPair,
                package: package);
            ret._package.FormVersion = ret;
            ret.CustomFactoryEnd(
                stream: stream,
                finalPos: finalPos,
                offset: offset);
            ret.FillSubrecordTypes(
                majorReference: ret,
                stream: stream,
                finalPos: finalPos,
                offset: offset,
                translationParams: translationParams,
                fill: ret.FillRecordType);
            return ret;
        }

        public static IArmorAddonGetter ArmorAddonFactory(
            ReadOnlyMemorySlice<byte> slice,
            BinaryOverlayFactoryPackage package,
            TypedParseParams translationParams = default)
        {
            return ArmorAddonFactory(
                stream: new OverlayStream(slice, package),
                package: package,
                translationParams: translationParams);
        }

        public override ParseResult FillRecordType(
            OverlayStream stream,
            int finalPos,
            int offset,
            RecordType type,
            PreviousParse lastParsed,
            Dictionary<RecordType, int>? recordParseCount,
            TypedParseParams translationParams = default)
        {
            type = translationParams.ConvertToStandard(type);
            switch (type.TypeInt)
            {
                case RecordTypeInts.BFCB:
                {
                    this.Components = this.ParseRepeatedTypelessSubrecord<IAComponentGetter>(
                        stream: stream,
                        translationParams: translationParams,
                        trigger: AComponent_Registration.TriggerSpecs,
                        factory: AComponentBinaryOverlay.AComponentFactory);
                    return (int)ArmorAddon_FieldIndex.Components;
                }
                case RecordTypeInts.BO64:
                {
                    _FirstPersonFlagsLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.FirstPersonFlags;
                }
                case RecordTypeInts.RNAM:
                {
                    _RaceLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.Race;
                }
                case RecordTypeInts.DNAM:
                {
                    _DNAMLocation = new((stream.Position - offset) + _package.MetaData.Constants.SubConstants.TypeAndLengthLength, finalPos - offset - 1);
                    return (int)ArmorAddon_FieldIndex.HealthBarOffset;
                }
                case RecordTypeInts.MOD2:
                case RecordTypeInts.MOD3:
                case RecordTypeInts.MO2T:
                case RecordTypeInts.MO3T:
                case RecordTypeInts.MLM1:
                case RecordTypeInts.MLM2:
                case RecordTypeInts.MO2C:
                case RecordTypeInts.MO3C:
                case RecordTypeInts.MO2F:
                case RecordTypeInts.MO3F:
                case RecordTypeInts.FLLD:
                case RecordTypeInts.XFLG:
                {
                    if (!lastParsed.ParsedIndex.HasValue
                        || lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.HealthBarOffset)
                    {
                        _WorldModelOverlay = GenderedItemBinaryOverlay.Factory<IModelGetter>(
                            package: _package,
                            stream: stream,
                            creator: static (s, p, r) => ModelBinaryOverlay.ModelFactory(s, p, r),
                            femaleRecordConverter: ArmorAddon_Registration.WorldModelFemaleConverter,
                            maleRecordConverter: ArmorAddon_Registration.WorldModelMaleConverter,
                            parseNonConvertedItems: true);
                        return new ParseResult((int)ArmorAddon_FieldIndex.WorldModel, type);
                    }
                    else if (lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.WorldModel)
                    {
                        _FirstPersonModelOverlay = GenderedItemBinaryOverlay.Factory<IModelGetter>(
                            package: _package,
                            stream: stream,
                            creator: static (s, p, r) => ModelBinaryOverlay.ModelFactory(s, p, r),
                            femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                            maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                            parseNonConvertedItems: true);
                        return new ParseResult((int)ArmorAddon_FieldIndex.FirstPersonModel, type);
                    }
                    else if (lastParsed.ParsedIndex.Value <= (int)ArmorAddon_FieldIndex.AltSkeleton)
                    {
                        this.ExtraLightLayers = BinaryOverlayList.FactoryByArray<UInt32>(
                            mem: stream.RemainingMemory,
                            package: _package,
                            getter: (s, p) => BinaryPrimitives.ReadUInt32LittleEndian(s),
                            locs: ParseRecordLocations(
                                stream: stream,
                                constants: _package.MetaData.Constants.SubConstants,
                                trigger: RecordTypes.FLLD,
                                skipHeader: true,
                                translationParams: translationParams));
                        return new ParseResult((int)ArmorAddon_FieldIndex.ExtraLightLayers, type);
                    }
                    else
                    {
                        switch (recordParseCount?.GetOrAdd(type) ?? 0)
                        {
                            case 0:
                            {
                                _WorldModelOverlay = GenderedItemBinaryOverlay.Factory<IModelGetter>(
                                    package: _package,
                                    stream: stream,
                                    creator: static (s, p, r) => ModelBinaryOverlay.ModelFactory(s, p, r),
                                    femaleRecordConverter: ArmorAddon_Registration.WorldModelFemaleConverter,
                                    maleRecordConverter: ArmorAddon_Registration.WorldModelMaleConverter,
                                    parseNonConvertedItems: true);
                                return new ParseResult((int)ArmorAddon_FieldIndex.WorldModel, type);
                            }
                            case 1:
                            {
                                _FirstPersonModelOverlay = GenderedItemBinaryOverlay.Factory<IModelGetter>(
                                    package: _package,
                                    stream: stream,
                                    creator: static (s, p, r) => ModelBinaryOverlay.ModelFactory(s, p, r),
                                    femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                                    maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                                    parseNonConvertedItems: true);
                                return new ParseResult((int)ArmorAddon_FieldIndex.FirstPersonModel, type);
                            }
                            case 2:
                            {
                                this.ExtraLightLayers = BinaryOverlayList.FactoryByArray<UInt32>(
                                    mem: stream.RemainingMemory,
                                    package: _package,
                                    getter: (s, p) => BinaryPrimitives.ReadUInt32LittleEndian(s),
                                    locs: ParseRecordLocations(
                                        stream: stream,
                                        constants: _package.MetaData.Constants.SubConstants,
                                        trigger: RecordTypes.FLLD,
                                        skipHeader: true,
                                        translationParams: translationParams));
                                return new ParseResult((int)ArmorAddon_FieldIndex.ExtraLightLayers, type);
                            }
                            default:
                                throw new NotImplementedException();
                        }
                    }
                }
                case RecordTypeInts.MOD4:
                case RecordTypeInts.MOD5:
                case RecordTypeInts.MO4T:
                case RecordTypeInts.MO5T:
                case RecordTypeInts.MLM3:
                case RecordTypeInts.MLM4:
                case RecordTypeInts.MO4C:
                case RecordTypeInts.MO5C:
                case RecordTypeInts.MO4F:
                case RecordTypeInts.MO5F:
                {
                    _FirstPersonModelOverlay = GenderedItemBinaryOverlay.Factory<IModelGetter>(
                        package: _package,
                        stream: stream,
                        creator: static (s, p, r) => ModelBinaryOverlay.ModelFactory(s, p, r),
                        femaleRecordConverter: ArmorAddon_Registration.FirstPersonModelFemaleConverter,
                        maleRecordConverter: ArmorAddon_Registration.FirstPersonModelMaleConverter,
                        parseNonConvertedItems: true);
                    return (int)ArmorAddon_FieldIndex.FirstPersonModel;
                }
                case RecordTypeInts.MOD6:
                case RecordTypeInts.MOD7:
                {
                    _AltSkeletonOverlay = GenderedItemBinaryOverlay.Factory<String>(
                        package: _package,
                        male: RecordTypes.MOD6,
                        female: RecordTypes.MOD7,
                        stream: stream,
                        creator: static (m, p) => BinaryStringUtility.ProcessWholeToZString(HeaderTranslation.ExtractSubrecordMemory(m, p.MetaData.Constants), encoding: p.MetaData.Encodings.NonTranslated));
                    return (int)ArmorAddon_FieldIndex.AltSkeleton;
                }
                case RecordTypeInts.NAM1:
                case RecordTypeInts.NAM0:
                case RecordTypeInts.NAM3:
                case RecordTypeInts.NAM2:
                {
                    _SkinTextureOverlay = GenderedItemBinaryOverlay.Factory<IArmorAddonSkinTextureGetter>(
                        package: _package,
                        stream: stream,
                        creator: static (s, p, r) => ArmorAddonSkinTextureBinaryOverlay.ArmorAddonSkinTextureFactory(s, p, r),
                        femaleRecordConverter: ArmorAddon_Registration.SkinTextureFemaleConverter,
                        shortCircuit: false);
                    return (int)ArmorAddon_FieldIndex.SkinTexture;
                }
                case RecordTypeInts.NAM6:
                case RecordTypeInts.NAM4:
                case RecordTypeInts.NAM7:
                case RecordTypeInts.NAM5:
                {
                    _MorphsOverlay = GenderedItemBinaryOverlay.Factory<IArmorAddonMorphGetter>(
                        package: _package,
                        stream: stream,
                        creator: static (s, p, r) => ArmorAddonMorphBinaryOverlay.ArmorAddonMorphFactory(s, p, r),
                        femaleRecordConverter: ArmorAddon_Registration.MorphsFemaleConverter,
                        shortCircuit: false);
                    return (int)ArmorAddon_FieldIndex.Morphs;
                }
                case RecordTypeInts.MODL:
                {
                    this.AdditionalRaces = BinaryOverlayList.FactoryByArray<IFormLinkGetter<IRaceGetter>>(
                        mem: stream.RemainingMemory,
                        package: _package,
                        getter: (s, p) => FormLinkBinaryTranslation.Instance.OverlayFactory<IRaceGetter>(p, s),
                        locs: ParseRecordLocations(
                            stream: stream,
                            constants: _package.MetaData.Constants.SubConstants,
                            trigger: RecordTypes.MODL,
                            skipHeader: true,
                            translationParams: translationParams));
                    return (int)ArmorAddon_FieldIndex.AdditionalRaces;
                }
                case RecordTypeInts.SNDD:
                {
                    _FootstepSoundLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.FootstepSound;
                }
                case RecordTypeInts.ONAM:
                {
                    _ArtObjectLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.ArtObject;
                }
                case RecordTypeInts.PNAM:
                {
                    _BodyPartDataLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.BodyPartData;
                }
                case RecordTypeInts.MNAM:
                {
                    _ActorValueModulationGroupTypeLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationGroupType;
                }
                case RecordTypeInts.TNAM:
                {
                    _ActorValueModulationEntryTypeLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationEntryType;
                }
                case RecordTypeInts.SNAM:
                {
                    _ActorValueModulationSubTypeLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationSubType;
                }
                case RecordTypeInts.VNAM:
                {
                    _ActorValueModulationEntryValueLocation = (stream.Position - offset);
                    return (int)ArmorAddon_FieldIndex.ActorValueModulationEntryValue;
                }
                case RecordTypeInts.BSMP:
                {
                    _BoneDataModifiersOverlay = GenderedItemBinaryOverlay.Factory<IReadOnlyList<IFormLinkGetter<IBoneModifierGetter>>>(
                        package: _package,
                        genderEnumRecord: RecordTypes.BSMP,
                        getDefault: () => Array.Empty<IFormLinkGetter<IBoneModifierGetter>>(),
                        stream: stream,
                        creator: (s, p) => 
                        {
                            return BinaryOverlayList.FactoryByArray<IFormLinkGetter<IBoneModifierGetter>>(
                                mem: s.RemainingMemory,
                                package: _package,
                                getter: (s, p) => FormLinkBinaryTranslation.Instance.OverlayFactory<IBoneModifierGetter>(p, s),
                                locs: ParseRecordLocations(
                                    stream: s,
                                    constants: _package.MetaData.Constants.SubConstants,
                                    trigger: RecordTypes.BNAM,
                                    skipHeader: true,
                                    translationParams: translationParams));
                        });
                    return (int)ArmorAddon_FieldIndex.BoneDataModifiers;
                }
                default:
                    return base.FillRecordType(
                        stream: stream,
                        finalPos: finalPos,
                        offset: offset,
                        type: type,
                        lastParsed: lastParsed,
                        recordParseCount: recordParseCount,
                        translationParams: translationParams.WithNoConverter());
            }
        }
        #region To String

        public override void Print(
            StructuredStringBuilder sb,
            string? name = null)
        {
            ArmorAddonMixIn.Print(
                item: this,
                sb: sb,
                name: name);
        }

        #endregion

        public override string ToString()
        {
            return MajorRecordPrinter<ArmorAddon>.ToString(this);
        }

        #region Equals and Hash
        public override bool Equals(object? obj)
        {
            if (obj is IFormLinkGetter formLink)
            {
                return formLink.Equals(this);
            }
            if (obj is not IArmorAddonGetter rhs) return false;
            return ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).Equals(this, rhs, equalsMask: null);
        }

        public bool Equals(IArmorAddonGetter? obj)
        {
            return ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).Equals(this, obj, equalsMask: null);
        }

        public override int GetHashCode() => ((ArmorAddonCommon)((IArmorAddonGetter)this).CommonInstance()!).GetHashCode(this);

        #endregion

    }

}
#endregion

#endregion

